<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ“‹ CRM - Sistema de GestiÃ³n de Relaciones con Clientes</title>
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <nav class="nav">
            <div class="nav-brand">
                <i class="fas fa-users-cog"></i>
                <span>CRM Marketing Soluciones</span>
            </div>
            <div class="nav-menu" id="nav-menu">
                <a href="#home" class="nav-link active">ğŸ  Home</a>
                <a href="#api" class="nav-link">ğŸ”Œ API GraphQL</a>
                <a href="#frontend" class="nav-link">ğŸ’» Frontend</a>
                <a href="#campaigns" class="nav-link">ğŸ“§ CampaÃ±as</a>
                <a href="#events" class="nav-link">ğŸ‰ Eventos</a>
                <a href="#permissions" class="nav-link">ğŸ” Permisos</a>
                <a href="#complete-systems" class="nav-link">ğŸ¯ Sistemas</a>
                <a href="#examples" class="nav-link">ğŸ“ Ejemplos</a>
                <a href="#deployment" class="nav-link">ğŸš€ Deployment</a>
                <a href="#monitoring" class="nav-link">ğŸ“Š Monitoreo</a>
                <a href="#monitoring-detailed" class="nav-link">ğŸ”” Alertas</a>
            </div>
            <div class="nav-toggle" id="nav-toggle">
                <i class="fas fa-bars"></i>
            </div>
        </nav>
    </header>

    <!-- Main Content -->
    <main class="main">
        <!-- Home Section -->
        <section id="home" class="section">
            <div class="container">
                <h1 class="section-title">
                    <i class="fas fa-users-cog"></i>
                    Sistema CRM Completo - Marketing Soluciones
                </h1>
                <p class="section-subtitle">
                    DocumentaciÃ³n tÃ©cnica completa para desarrolladores
                </p>
                
                <div class="features-grid">
                    <div class="feature-card">
                        <i class="fas fa-user-plus"></i>
                        <h3>GestiÃ³n de Leads</h3>
                        <p>Pipeline completo, conversiones, seguimiento y mÃ©tricas</p>
                    </div>
                    <div class="feature-card">
                        <i class="fas fa-building"></i>
                        <h3>Entidades y Contactos</h3>
                        <p>Organizaciones, contactos individuales y relaciones</p>
                    </div>
                    <div class="feature-card">
                        <i class="fas fa-envelope"></i>
                        <h3>CampaÃ±as Multi-Canal</h3>
                        <p>Email, WhatsApp, SMS con plantillas y mÃ©tricas</p>
                    </div>
                    <div class="feature-card">
                        <i class="fas fa-calendar-alt"></i>
                        <h3>GestiÃ³n de Eventos</h3>
                        <p>Eventos, invitados, permisos y seguimiento</p>
                    </div>
                    <div class="feature-card">
                        <i class="fas fa-shield-alt"></i>
                        <h3>Sistema de Permisos</h3>
                        <p>Compartir, roles y control de acceso granular</p>
                    </div>
                    <div class="feature-card">
                        <i class="fas fa-chart-line"></i>
                        <h3>Analytics y Reportes</h3>
                        <p>MÃ©tricas, conversiones y anÃ¡lisis de rendimiento</p>
                    </div>
                </div>

                <div class="quick-start">
                    <h2>ğŸš€ Inicio RÃ¡pido</h2>
                    <div class="quick-start-grid">
                        <div class="quick-item">
                            <h4>1. ConfiguraciÃ³n</h4>
                            <p>GraphQL API en puertos 3000 (test) y 4000 (producciÃ³n)</p>
                        </div>
                        <div class="quick-item">
                            <h4>2. AutenticaciÃ³n</h4>
                            <p>JWT + Firebase para gestiÃ³n de usuarios y permisos</p>
                        </div>
                        <div class="quick-item">
                            <h4>3. Base de Datos</h4>
                            <p>MongoDB Atlas con modelos optimizados para CRM</p>
                        </div>
                        <div class="quick-item">
                            <h4>4. Frontend</h4>
                            <p>React + TypeScript + Apollo Client</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- API GraphQL Section -->
        <section id="api" class="section">
            <div class="container">
                <h2 class="section-title">
                    <i class="fas fa-code"></i>
                    API GraphQL Completa
                </h2>

                <div class="api-overview">
                    <h3>ğŸ“Š Resumen de Endpoints</h3>
                    <div class="stats-grid">
                        <div class="stat-card">
                            <h4>Queries</h4>
                            <span class="stat-number">91</span>
                            <p>Consultas de lectura</p>
                        </div>
                        <div class="stat-card">
                            <h4>Mutations</h4>
                            <span class="stat-number">155</span>
                            <p>Operaciones de escritura</p>
                        </div>
                        <div class="stat-card">
                            <h4>Tipos</h4>
                            <span class="stat-number">100+</span>
                            <p>Modelos de datos</p>
                        </div>
                        <div class="stat-card">
                            <h4>Subscriptions</h4>
                            <span class="stat-number">1</span>
                            <p>Tiempo real</p>
                        </div>
                    </div>
                </div>

                <div class="index-links">
                    <h3>ğŸ”— Enlaces Directos a Secciones</h3>
                    <ul>
                        <li><a href="#api">ğŸ“Š Tipos Principales del CRM</a></li>
                        <li><a href="#api">ğŸ”§ Enums y Tipos Especializados</a></li>
                        <li><a href="#api">ğŸ“¥ Queries Principales</a></li>
                        <li><a href="#api">ğŸ“¤ Mutations Principales</a></li>
                        <li><a href="#api">âš¡ Subscriptions en Tiempo Real</a></li>
                        <li><a href="#api">ğŸ”— Webhooks y Integraciones</a></li>
                        <li><a href="#events">ğŸ“… GestiÃ³n de Eventos</a></li>
                        <li><a href="#events">ğŸ” Queries de Eventos</a></li>
                        <li><a href="#events">ğŸ“¤ Mutations de Eventos</a></li>
                        <li><a href="#events">ğŸ” Sistema de Permisos</a></li>
                        <li><a href="#campaigns">ğŸ“¢ GestiÃ³n de CampaÃ±as</a></li>
                        <li><a href="#campaigns">ğŸ” Queries de CampaÃ±as</a></li>
                        <li><a href="#whitelabel">ğŸ¢ Sistema Whitelabel</a></li>
                        <li><a href="#permissions">ğŸ” Sistema de Permisos</a></li>
                        <li><a href="#complete-systems">ğŸ¯ Sistemas de ComparticiÃ³n</a></li>
                    </ul>
                </div>

                <div class="index-links">
                    <h3>ğŸ”— Enlaces Directos a Secciones</h3>
                    <ul>
                        <li><a href="#api">ğŸ“Š Tipos Principales del CRM</a></li>
                        <li><a href="#api">ğŸ”§ Enums y Tipos Especializados</a></li>
                        <li><a href="#api">ğŸ“¥ Queries Principales</a></li>
                        <li><a href="#api">ğŸ“¤ Mutations Principales</a></li>
                        <li><a href="#api">âš¡ Subscriptions en Tiempo Real</a></li>
                        <li><a href="#api">ğŸ”— Webhooks y Integraciones</a></li>
                        <li><a href="#events">ğŸ“… GestiÃ³n de Eventos</a></li>
                        <li><a href="#events">ğŸ” Queries de Eventos</a></li>
                        <li><a href="#events">ğŸ“¤ Mutations de Eventos</a></li>
                        <li><a href="#events">ğŸ” Sistema de Permisos</a></li>
                        <li><a href="#campaigns">ğŸ“¢ GestiÃ³n de CampaÃ±as</a></li>
                        <li><a href="#campaigns">ğŸ” Queries de CampaÃ±as</a></li>
                        <li><a href="#whitelabel">ğŸ¢ Sistema Whitelabel</a></li>
                        <li><a href="#permissions">ğŸ” Sistema de Permisos</a></li>
                        <li><a href="#complete-systems">ğŸ¯ Sistemas de ComparticiÃ³n</a></li>
                    </ul>
                </div>

                <div class="api-modules">
                    <h3>ğŸ—ï¸ MÃ³dulos Principales</h3>
                    
                    <div class="module-card">
                        <h4><i class="fas fa-user-plus"></i> CRM - GestiÃ³n de Relaciones</h4>
                        <div class="module-content">
                            <h5>Tipos Principales:</h5>
                            <ul>
                                <li><strong>CRM_Lead</strong> - 26 campos (pipeline, conversiones, mÃ©tricas)</li>
                                <li><strong>CRM_Contact</strong> - 32 campos (contactos individuales)</li>
                                <li><strong>CRM_Entity</strong> - 26 campos (organizaciones/empresas)</li>
                                <li><strong>CRM_Campaign</strong> - 18 campos (campaÃ±as multi-canal)</li>
                                <li><strong>CRM_Note</strong> - 8 campos (notas y seguimiento)</li>
                                <li><strong>CRM_Reminder</strong> - 6 campos (recordatorios)</li>
                            </ul>
                        </div>
                    </div>

                    <div class="module-card">
                        <h4><i class="fas fa-calendar-alt"></i> EVT - GestiÃ³n de Eventos</h4>
                        <div class="module-content">
                            <h5>Tipos Principales:</h5>
                            <ul>
                                <li><strong>EVT_Event</strong> - 27 campos (eventos principales)</li>
                                <li><strong>EVT_Invitado</strong> - 10 campos (gestiÃ³n de invitados)</li>
                                <li><strong>EVT_Presupuesto</strong> - 7 campos (control financiero)</li>
                                <li><strong>EVT_Task</strong> - 7 campos (tareas del evento)</li>
                                <li><strong>EVT_Itinerario</strong> - 5 campos (agenda)</li>
                            </ul>
                        </div>
                    </div>

                    <div class="module-card">
                        <h4><i class="fas fa-building"></i> ğŸ¢ Whitelabel/Developer - Sistema Multi-Tenant</h4>
                        <div class="module-content">
                            <h5>Tipos Principales:</h5>
                            <ul>
                                <li><strong>WhitelabelDeveloper</strong> - GestiÃ³n de desarrolladores</li>
                                <li><strong>WhitelabelInfo</strong> - InformaciÃ³n de marca blanca</li>
                                <li><strong>Development</strong> - Entornos de desarrollo</li>
                                <li><strong>User</strong> - Usuarios con permisos multi-tenant</li>
                            </ul>
                            
                            <h5>ğŸ”‘ Queries Principales:</h5>
                            <ul>
                                <li><strong>getWhitelabelDeveloper</strong> - Obtener desarrollador</li>
                                <li><strong>getWhitelabelInfo</strong> - Obtener info de marca blanca</li>
                                <li><strong>getDevelopment</strong> - Obtener entorno de desarrollo</li>
                                <li><strong>getUserByDevelopment</strong> - Usuarios por development</li>
                            </ul>
                            
                            <h5>âš™ï¸ Mutations Principales:</h5>
                            <ul>
                                <li><strong>createWhitelabelDeveloper</strong> - Crear desarrollador</li>
                                <li><strong>updateWhitelabelInfo</strong> - Actualizar marca blanca</li>
                                <li><strong>assignUserToDevelopment</strong> - Asignar usuario</li>
                                <li><strong>updateDevelopmentPermissions</strong> - Actualizar permisos</li>
                            </ul>
                        </div>
                    </div>

                    <div class="module-card">
                        <h4><i class="fas fa-building"></i> BUSN - GestiÃ³n de Negocios</h4>
                        <div class="module-content">
                            <h5>Tipos Principales:</h5>
                            <ul>
                                <li><strong>BUSN_Business</strong> - 21 campos (negocios/empresas)</li>
                                <li><strong>BUSN_reviewsT</strong> - 6 campos (reseÃ±as)</li>
                                <li><strong>BUSN_questionsAndAnswers</strong> - 2 campos (FAQ)</li>
                                <li><strong>BUSN_horario</strong> - 2 campos (horarios)</li>
                            </ul>
                        </div>
                    </div>

                    <div class="module-card">
                        <h4><i class="fas fa-chart-line"></i> USAGE - Analytics y MÃ©tricas</h4>
                        <div class="module-content">
                            <h5>Tipos Principales:</h5>
                            <ul>
                                <li><strong>USAGE_UsageTracking</strong> - 20 campos (seguimiento)</li>
                                <li><strong>USAGE_CampaignBilling</strong> - 11 campos (facturaciÃ³n)</li>
                                <li><strong>USAGE_DeliveryMetrics</strong> - 6 campos (mÃ©tricas)</li>
                                <li><strong>USAGE_DashboardStats</strong> - 5 campos (dashboard)</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="authentication">
                    <h3>ğŸ” AutenticaciÃ³n y Seguridad</h3>
                    <div class="auth-content">
                        <h4>JWT + Firebase Authentication</h4>
                        <p>El sistema utiliza autenticaciÃ³n JWT con Firebase para gestionar usuarios, roles y permisos de forma segura.</p>
                        
                        <h4>Headers Requeridos:</h4>
                        <pre><code class="language-http">Authorization: Bearer &lt;JWT_TOKEN&gt;
Content-Type: application/json</code></pre>
                        
                        <h4>Tipos de Usuario:</h4>
                        <ul>
                            <li><strong>Admin</strong> - Acceso completo al sistema</li>
                            <li><strong>Manager</strong> - GestiÃ³n de equipos y proyectos</li>
                            <li><strong>User</strong> - Acceso limitado a recursos asignados</li>
                            <li><strong>Guest</strong> - Acceso de solo lectura</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Campaigns Section -->
        <section id="campaigns" class="section">
            <div class="container">
                <h2 class="section-title">
                    <i class="fas fa-envelope"></i>
                    Sistema de CampaÃ±as Multi-Canal
                </h2>

                <div class="campaign-overview">
                    <h3>ğŸ“§ Funcionalidades de CampaÃ±as</h3>
                    <p>El sistema CRM incluye un motor completo de campaÃ±as que se integra directamente con leads, contactos y entidades.</p>
                </div>

                <div class="campaign-types">
                    <h3>ğŸ¯ Tipos de CampaÃ±a</h3>
                    
                    <div class="campaign-card">
                        <h4><i class="fas fa-envelope"></i> CampaÃ±as de Email</h4>
                        <div class="campaign-content">
                            <h5>CaracterÃ­sticas:</h5>
                            <ul>
                                <li><strong>Plantillas Personalizables</strong> - 14 campos configurables</li>
                                <li><strong>SegmentaciÃ³n Avanzada</strong> - Filtros dinÃ¡micos por criterios</li>
                                <li><strong>AutomatizaciÃ³n</strong> - EnvÃ­os programados y triggers</li>
                                <li><strong>MÃ©tricas Completas</strong> - Apertura, clics, conversiones</li>
                            </ul>
                        </div>
                    </div>

                    <div class="campaign-card">
                        <h4><i class="fas fa-whatsapp"></i> CampaÃ±as de WhatsApp</h4>
                        <div class="campaign-content">
                            <h5>CaracterÃ­sticas:</h5>
                            <ul>
                                <li><strong>Plantillas WhatsApp Business</strong> - 13 campos configurables</li>
                                <li><strong>IntegraciÃ³n API</strong> - ConexiÃ³n directa con WhatsApp</li>
                                <li><strong>Respuestas AutomÃ¡ticas</strong> - Chatbots y flujos</li>
                                <li><strong>MÃ©tricas de Entrega</strong> - Estado, lectura, respuesta</li>
                            </ul>
                        </div>
                    </div>

                    <div class="campaign-card">
                        <h4><i class="fas fa-sms"></i> CampaÃ±as SMS</h4>
                        <div class="campaign-content">
                            <h5>CaracterÃ­sticas:</h5>
                            <ul>
                                <li><strong>Plantillas de Texto</strong> - PersonalizaciÃ³n con variables</li>
                                <li><strong>Envio Masivo</strong> - GestiÃ³n de listas de contactos</li>
                                <li><strong>ConfirmaciÃ³n de Entrega</strong> - Tracking de estado</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="campaign-integration">
                    <h3>ğŸ”— IntegraciÃ³n con CRM</h3>
                    
                    <div class="integration-flow">
                        <h4>Flujo de CampaÃ±a:</h4>
                        <ol>
                            <li><strong>SelecciÃ³n de Audiencia</strong> - Leads, contactos o entidades</li>
                            <li><strong>CreaciÃ³n de Plantilla</strong> - Email, WhatsApp o SMS</li>
                            <li><strong>ConfiguraciÃ³n de EnvÃ­o</strong> - ProgramaciÃ³n y automatizaciÃ³n</li>
                            <li><strong>EjecuciÃ³n</strong> - EnvÃ­o automÃ¡tico o manual</li>
                            <li><strong>Seguimiento</strong> - MÃ©tricas y engagement</li>
                            <li><strong>ConversiÃ³n</strong> - ActualizaciÃ³n de estado de leads</li>
                        </ol>
                    </div>

                    <div class="campaign-examples">
                        <h4>Casos de Uso:</h4>
                        <ul>
                            <li><strong>Onboarding</strong> - Bienvenida a nuevos leads</li>
                            <li><strong>Nurturing</strong> - Cultivo de leads en pipeline</li>
                            <li><strong>Eventos</strong> - Invitaciones y recordatorios</li>
                            <li><strong>Follow-up</strong> - Seguimiento post-venta</li>
                            <li><strong>ReactivaciÃ³n</strong> - Re-engagement de contactos</li>
                        </ul>
                    </div>
                </div>

                <div class="campaign-queries">
                    <h3>ğŸ” Queries de CampaÃ±as</h3>
                    
                    <div class="query-examples">
                        <h4>Consultas Principales:</h4>
                        <pre><code class="language-graphql"># Obtener todas las campaÃ±as
query GetCampaigns {
  getCRMCampaigns {
    campaigns {
      _id
      name
      type
      status
      createdAt
      scheduledAt
      targetAudience
      metrics {
        sent
        delivered
        opened
        clicked
        converted
      }
    }
  }
}

# Obtener estadÃ­sticas de campaÃ±a
query GetCampaignStats($campaignId: ID!) {
  getCRMCampaignStats(campaignId: $campaignId) {
    totalSent
    totalDelivered
    totalOpened
    totalClicked
    totalConverted
    conversionRate
    openRate
    clickRate
    deliveryRate
  }
}

# Obtener plantillas de email
query GetEmailTemplates {
  getCRMEmailTemplates {
    templates {
      _id
      name
      subject
      content
      variables
      isActive
      createdAt
    }
  }
}</code></pre>
                    </div>
                </div>
            </div>
        </section>

        <!-- Events Section -->
        <section id="events" class="section">
            <div class="container">
                <h2 class="section-title">
                    <i class="fas fa-calendar-alt"></i>
                    GestiÃ³n de Eventos y Invitados
                </h2>

                <div class="events-overview">
                    <h3>ğŸ‰ Sistema de Eventos</h3>
                    <p>El sistema incluye gestiÃ³n completa de eventos con invitados, permisos, presupuestos y seguimiento.</p>
                </div>

                <div class="event-queries">
                    <h3>ğŸ” Consultas de Eventos</h3>
                    
                    <div class="query-examples">
                        <h4>BÃºsqueda por TelÃ©fono/Email:</h4>
                        <pre><code class="language-graphql"># Buscar eventos por telÃ©fono del usuario
query GetEventsByPhone($phone: String!) {
  getAllUserRelatedEventsByPhone(phone: $phone) {
    _id
    name
    date
    location
    status
    role
    permissions
  }
}

# Buscar eventos por email del usuario
query GetEventsByEmail($email: String!) {
  getAllUserRelatedEventsByEmail(email: $email) {
    _id
    name
    date
    location
    status
    role
    permissions
  }
}

# Obtener evento especÃ­fico con detalles
query GetEvent($eventId: ID!) {
  getEvent(eventId: $eventId) {
    _id
    name
    description
    date
    location
    status
    budget {
      total
      spent
      remaining
    }
    guests {
      _id
      name
      email
      phone
      status
      role
    }
    tasks {
      _id
      title
      description
      assignedTo
      dueDate
      status
    }
  }
}</code></pre>
                    </div>
                </div>

                <div class="event-permissions">
                    <h3>ğŸ” Permisos de Eventos</h3>
                    
                    <div class="permission-types">
                        <h4>Tipos de Permisos:</h4>
                        <ul>
                            <li><strong>Owner</strong> - Propietario del evento (acceso completo)</li>
                            <li><strong>Admin</strong> - Administrador (gestiÃ³n completa)</li>
                            <li><strong>Manager</strong> - Gestor (ediciÃ³n y gestiÃ³n)</li>
                            <li><strong>Editor</strong> - Editor (modificaciÃ³n limitada)</li>
                            <li><strong>Viewer</strong> - Visualizador (solo lectura)</li>
                            <li><strong>Guest</strong> - Invitado (acceso bÃ¡sico)</li>
                        </ul>
                    </div>

                    <div class="permission-queries">
                        <h4>Consultas de Permisos:</h4>
                        <pre><code class="language-graphql"># Verificar permisos de usuario en evento
query CheckEventPermissions($eventId: ID!, $userId: ID!) {
  getEventPermissions(eventId: $eventId, userId: $userId) {
    canView
    canEdit
    canDelete
    canManageGuests
    canManageBudget
    canManageTasks
    role
    permissions
  }
}

# Obtener resumen de permisos del usuario
query GetUserEventSummary($userId: ID!) {
  getUserCompleteEventSummary(userId: $userId) {
    ownedEvents
    managedEvents
    invitedEvents
    totalEvents
    upcomingEvents
    pastEvents
  }
}</code></pre>
                    </div>
                </div>

                <div class="event-management">
                    <h3>âš™ï¸ GestiÃ³n de Eventos</h3>
                    
                    <div class="management-features">
                        <h4>Funcionalidades:</h4>
                        <ul>
                            <li><strong>Presupuesto</strong> - Control de gastos y categorÃ­as</li>
                            <li><strong>Tareas</strong> - AsignaciÃ³n y seguimiento</li>
                            <li><strong>Itinerario</strong> - Agenda y programaciÃ³n</li>
                            <li><strong>Invitados</strong> - Lista de asistencia y roles</li>
                            <li><strong>MÃ©tricas</strong> - EstadÃ­sticas de participaciÃ³n</li>
                        </ul>
                    </div>

                    <div class="event-mutations">
                        <h4>Operaciones de Eventos:</h4>
                        <pre><code class="language-graphql"># Compartir evento con usuario
mutation ShareEvent($eventId: ID!, $userId: ID!, $permissions: [String!]!) {
  shareEvent(eventId: $eventId, userId: $userId, permissions: $permissions) {
    success
    message
    sharedWith {
      _id
      name
      email
      permissions
    }
  }
}

# Crear tarea en evento
mutation CreateEventTask($eventId: ID!, $task: TaskInput!) {
  createEventTask(eventId: $eventId, task: $task) {
    _id
    title
    description
    assignedTo
    dueDate
    status
  }
}</code></pre>
                    </div>
                </div>
            </div>
        </section>

        <!-- Permissions Section -->
        <section id="permissions" class="section">
            <div class="container">
                <h2 class="section-title">
                    <i class="fas fa-shield-alt"></i>
                    Sistema de Permisos y Compartir
                </h2>

                <div class="permissions-overview">
                    <h3>ğŸ” Control de Acceso Granular</h3>
                    <p>El sistema implementa un modelo de permisos avanzado que permite compartir recursos de forma segura y controlada.</p>
                </div>

                <div class="sharing-system">
                    <h3>ğŸ¤ Sistema de Compartir</h3>
                    
                    <div class="sharing-types">
                        <h4>Recursos Compartibles:</h4>
                        <ul>
                            <li><strong>Leads</strong> - Compartir oportunidades con equipo</li>
                            <li><strong>Contactos</strong> - Acceso a informaciÃ³n de clientes</li>
                            <li><strong>Entidades</strong> - Compartir empresas/organizaciones</li>
                            <li><strong>Eventos</strong> - ColaboraciÃ³n en gestiÃ³n</li>
                            <li><strong>Configuraciones</strong> - Compartir vistas y filtros</li>
                        </ul>
                    </div>

                    <div class="sharing-mutations">
                        <h4>Operaciones de Compartir:</h4>
                        <pre><code class="language-graphql"># Compartir lead con usuario
mutation ShareLead($leadId: ID!, $userId: ID!, $permissions: [String!]!) {
  shareCRMLead(leadId: $leadId, userId: $userId, permissions: $permissions) {
    success
    message
    sharedWith {
      _id
      name
      email
      permissions
    }
  }
}

# Compartir contacto con usuario
mutation ShareContact($contactId: ID!, $userId: ID!, $permissions: [String!]!) {
  shareCRMContact(contactId: $contactId, userId: $userId, permissions: $permissions) {
    success
    message
    sharedWith {
      _id
      name
      email
      permissions
    }
  }
}

# Compartir entidad con usuario
mutation ShareEntity($entityId: ID!, $userId: ID!, $permissions: [String!]!) {
  shareCRMEntity(entityId: $entityId, userId: $userId, permissions: $permissions) {
    success
    message
    sharedWith {
      _id
      name
      email
      permissions
    }
  }
}</code></pre>
                    </div>
                </div>

                <div class="permission-levels">
                    <h3>ğŸ“Š Niveles de Permiso</h3>
                    
                    <div class="permission-matrix">
                        <h4>Matriz de Permisos:</h4>
                        <table class="permission-table">
                            <thead>
                                <tr>
                                    <th>Permiso</th>
                                    <th>Leer</th>
                                    <th>Editar</th>
                                    <th>Eliminar</th>
                                    <th>Compartir</th>
                                    <th>Administrar</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>Owner</strong></td>
                                    <td>âœ…</td>
                                    <td>âœ…</td>
                                    <td>âœ…</td>
                                    <td>âœ…</td>
                                    <td>âœ…</td>
                                </tr>
                                <tr>
                                    <td><strong>Admin</strong></td>
                                    <td>âœ…</td>
                                    <td>âœ…</td>
                                    <td>âœ…</td>
                                    <td>âœ…</td>
                                    <td>âœ…</td>
                                </tr>
                                <tr>
                                    <td><strong>Manager</strong></td>
                                    <td>âœ…</td>
                                    <td>âœ…</td>
                                    <td>âŒ</td>
                                    <td>âœ…</td>
                                    <td>âŒ</td>
                                </tr>
                                <tr>
                                    <td><strong>Editor</strong></td>
                                    <td>âœ…</td>
                                    <td>âœ…</td>
                                    <td>âŒ</td>
                                    <td>âŒ</td>
                                    <td>âŒ</td>
                                </tr>
                                <tr>
                                    <td><strong>Viewer</strong></td>
                                    <td>âœ…</td>
                                    <td>âŒ</td>
                                    <td>âŒ</td>
                                    <td>âŒ</td>
                                    <td>âŒ</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="access-control">
                    <h3>ğŸšª Control de Acceso</h3>
                    
                    <div class="access-features">
                        <h4>CaracterÃ­sticas:</h4>
                        <ul>
                            <li><strong>Heredado</strong> - Los permisos se heredan de entidades padre</li>
                            <li><strong>Temporal</strong> - Permisos con fecha de expiraciÃ³n</li>
                            <li><strong>Condicional</strong> - Permisos basados en reglas de negocio</li>
                            <li><strong>AuditorÃ­a</strong> - Log completo de accesos y cambios</li>
                            <li><strong>Notificaciones</strong> - Alertas de acceso y cambios</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Complete Systems Section -->
        <section id="complete-systems" class="section">
            <div class="container">
                <h2 class="section-title">
                    <i class="fas fa-share-alt"></i>
                    ğŸ¯ Sistemas Completos de ComparticiÃ³n y Control de Acceso
                </h2>

                <div class="systems-overview">
                    <h3>ğŸ“‹ RESUMEN EJECUTIVO DE TODOS LOS SISTEMAS</h3>
                    <p>El sistema implementa <strong>7 sistemas diferentes de comparticiÃ³n</strong>, cada uno con su propia lÃ³gica y estructura:</p>
                    
                    <div class="systems-grid">
                        <div class="system-card">
                            <h4>ğŸ¢ CRM System</h4>
                            <ul>
                                <li>Leads, Contactos, Entidades</li>
                                <li>Ownership + Shared Users + Groups</li>
                                <li>Multi-tenant por development</li>
                            </ul>
                        </div>
                        
                        <div class="system-card">
                            <h4>ğŸ‰ Event System</h4>
                            <ul>
                                <li>Eventos + Invitados</li>
                                <li>Roles: CREADOR, COMPARTIDO, INVITADO</li>
                                <li>Permisos granulares por funcionalidad</li>
                            </ul>
                        </div>
                        
                        <div class="system-card">
                            <h4>ğŸ“ Blog/Post System</h4>
                            <ul>
                                <li>Publicaciones y artÃ­culos</li>
                                <li>ComparticiÃ³n por usuario y business</li>
                                <li>Control de acceso por development</li>
                            </ul>
                        </div>
                        
                        <div class="system-card">
                            <h4>âš™ï¸ ViewConfig System</h4>
                            <ul>
                                <li>Configuraciones de vista</li>
                                <li>Permisos: View, Edit, Delete, Share</li>
                                <li>ComparticiÃ³n con usuarios especÃ­ficos</li>
                            </ul>
                        </div>
                        
                        <div class="system-card">
                            <h4>ğŸ‘¥ Group System</h4>
                            <ul>
                                <li>Grupos de usuarios</li>
                                <li>Permisos a nivel de grupo</li>
                                <li>Filtros y configuraciones compartidas</li>
                            </ul>
                        </div>
                        
                        <div class="system-card">
                            <h4>ğŸª Business System</h4>
                            <ul>
                                <li>Negocios y empresas</li>
                                <li>Usuarios asociados</li>
                                <li>Configuraciones por business</li>
                            </ul>
                        </div>
                        
                        <div class="system-card">
                            <h4>ğŸ‘¤ User System</h4>
                            <ul>
                                <li>Usuarios y autenticaciÃ³n</li>
                                <li>Roles y permisos</li>
                                <li>Desarrollos autorizados</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="real-examples">
                    <h3>ğŸ” CASOS DE USO REALES Y EJEMPLOS PRÃCTICOS</h3>
                    
                    <div class="example-scenario">
                        <h4>ğŸ“Š CASO 1: Lead Compartido entre Equipo de Ventas</h4>
                        <p><strong>Escenario:</strong> Un lead de alta prioridad es compartido entre el vendedor principal, su manager y un especialista tÃ©cnico.</p>
                        
                        <pre><code class="language-graphql"># 1. Crear el lead (propietario principal)
mutation CreateLead {
  createCRMLead(input: {
    name: "Empresa ABC - Proyecto CRM"
    email: "contacto@empresaabc.com"
    company: "Empresa ABC"
    value: 50000
    priority: HIGH
    source: WEBSITE
  }) {
    success
    lead {
      _id
      ownership {
        primary_owner {
          user_id    # "vendedor123"
          name       # "vendedor@empresa.com"
        }
        shared_with_users    # []
        shared_with_groups   # []
      }
    }
  }
}

# 2. Compartir con manager individual
mutation ShareWithManager {
  shareCRMLead(leadId: "lead123", sharing: {
    userIds: ["manager456"]
    groupIds: []
    permissions: ["VIEW", "EDIT", "ADD_NOTES"]
  }) {
    success
    lead {
      ownership {
        shared_with_users    # ["manager456"]
        shared_with_groups   # []
      }
    }
  }
}</code></pre>

                        <div class="example-result">
                            <h5>ğŸ¯ Resultado Final:</h5>
                            <ul>
                                <li><strong>Propietario:</strong> vendedor123 (acceso completo)</li>
                                <li><strong>Compartido individual:</strong> manager456 (ver, editar, notas)</li>
                                <li><strong>Permisos:</strong> Diferentes niveles segÃºn el tipo de acceso</li>
                            </ul>
                        </div>
                    </div>

                    <div class="example-scenario">
                        <h4>ğŸ‰ CASO 2: Evento de Boda Compartido con Familia y Proveedores</h4>
                        <p><strong>Escenario:</strong> Una boda donde la novia comparte el evento con familiares cercanos y proveedores especÃ­ficos.</p>
                        
                        <pre><code class="language-graphql"># 1. Crear evento (propietaria principal)
mutation CreateWeddingEvent {
  createEvent(input: {
    nombre: "Boda MarÃ­a y Carlos"
    tipo: "boda"
    fecha: "2025-06-15"
    poblacion: "Madrid"
    usuario_id: "maria_novia"
    usuario_nombre: "maria@email.com"
  }) {
    _id
    usuario_id        # "maria_novia"
    compartido_array  # []
    user_role         # "CREADOR"
    user_permissions  # ["FULL_ACCESS"]
  }
}

# 2. Compartir con familiares (acceso completo)
mutation ShareWithFamily {
  shareEvent(
    eventId: "event456", 
    userId: "madre_maria", 
    permissions: {
      canViewBudget: true,
      canViewGuests: true,
      canEditEvent: true,
      canInviteGuests: true
    }
  )
}</code></pre>

                        <div class="example-result">
                            <h5>ğŸ¯ Resultado Final:</h5>
                            <ul>
                                <li><strong>Propietaria:</strong> maria_novia (acceso completo)</li>
                                <li><strong>Familiar:</strong> madre_maria (acceso completo)</li>
                                <li><strong>Permisos:</strong> Diferentes segÃºn el rol y relaciÃ³n</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="validation-flow">
                    <h3>ğŸ” FLUJO COMPLETO DE VALIDACIÃ“N Y PERMISOS</h3>
                    
                    <h4>ğŸ”„ Proceso de ValidaciÃ³n Multi-Nivel</h4>
                    <pre><code class="language-text">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                FLUJO COMPLETO DE VALIDACIÃ“N                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   REQUEST      â”‚    â”‚   VALIDACIÃ“N    â”‚    â”‚   ACCESO    â”‚ â”‚
â”‚  â”‚   INCOMING     â”‚â”€â”€â”€â–¶â”‚   MULTI-NIVEL   â”‚â”€â”€â”€â–¶â”‚   GRANTED   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚           â”‚                       â”‚                    â”‚        â”‚
â”‚           â”‚                       â”‚                    â”‚        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   HEADERS       â”‚    â”‚   PASO 1:      â”‚    â”‚   PASO 2:   â”‚ â”‚
â”‚  â”‚   VERIFICATION  â”‚    â”‚   JWT TOKEN     â”‚    â”‚   USER      â”‚ â”‚
â”‚  â”‚                 â”‚    â”‚   VALIDATION    â”‚    â”‚   CONTEXT   â”‚ â”‚
â”‚  â”‚ â€¢ Authorization â”‚    â”‚                 â”‚    â”‚             â”‚ â”‚
â”‚  â”‚ â€¢ X-User-ID     â”‚    â”‚ â€¢ Token vÃ¡lido  â”‚    â”‚ â€¢ UID       â”‚ â”‚
â”‚  â”‚ â€¢ X-Development â”‚    â”‚ â€¢ No expirado   â”‚    â”‚ â€¢ Email     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚ â€¢ Signature OK  â”‚    â”‚ â€¢ Phone     â”‚ â”‚
â”‚                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚ â€¢ Role      â”‚ â”‚
â”‚                                   â”‚             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                   â”‚                     â”‚        â”‚
â”‚                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚                          â”‚   PASO 3:      â”‚    â”‚   PASO 4:   â”‚ â”‚
â”‚                          â”‚   DEVELOPMENT   â”‚    â”‚   OWNERSHIP â”‚ â”‚
â”‚                          â”‚   ACCESS        â”‚    â”‚   CHECK     â”‚ â”‚
â”‚                          â”‚                 â”‚    â”‚             â”‚ â”‚
â”‚                          â”‚ â€¢ Same tenant   â”‚    â”‚ â€¢ Is Owner? â”‚ â”‚
â”‚                          â”‚ â€¢ Valid brand   â”‚    â”‚ â€¢ Is Shared?â”‚ â”‚
â”‚                          â”‚ â€¢ Features OK   â”‚    â”‚ â€¢ Is Group? â”‚ â”‚
â”‚                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚ â€¢ Permissionsâ”‚ â”‚
â”‚                                   â”‚             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</code></pre>

                    <h4>ğŸ” CÃ³digo de ValidaciÃ³n Implementado</h4>
                    <pre><code class="language-typescript">// 1. VALIDACIÃ“N DE DESARROLLO (Multi-tenant)
export function validateDevelopmentAccess(
  context: CRMContext,
  development: string
) {
  if (context.user.development !== development) {
    throw new Error('No tienes acceso a este development');
  }
}

// 2. VALIDACIÃ“N DE OWNERSHIP
export function validateOwnership(
  document: any,
  userId: string,
  allowShared: boolean = true
) {
  const isOwner = document.ownership?.primary_owner?.user_id === userId;
  const isShared = allowShared && 
    document.ownership?.shared_with_users?.includes(userId);
  
  if (!isOwner && !isShared) {
    throw new Error('No tienes permisos para acceder a este recurso');
  }

  return { isOwner, isShared };
}</code></pre>
                </div>

                <div class="systems-comparison">
                    <h3>ğŸ“Š COMPARATIVA DE SISTEMAS DE COMPARTICIÃ“N</h3>
                    
                    <table class="comparison-table">
                        <thead>
                            <tr>
                                <th>Sistema</th>
                                <th>Estructura de Ownership</th>
                                <th>Tipos de ComparticiÃ³n</th>
                                <th>Permisos Granulares</th>
                                <th>Multi-Tenant</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>ğŸ¢ CRM System</strong></td>
                                <td>primary_owner + shared_with_users + shared_with_groups</td>
                                <td>Individual + Grupos</td>
                                <td>Por rol (Owner, Shared, None)</td>
                                <td>âœ… Por development</td>
                            </tr>
                            <tr>
                                <td><strong>ğŸ‰ Event System</strong></td>
                                <td>usuario_id + compartido_array + detalles_compartidos_array</td>
                                <td>Individual + Permisos especÃ­ficos</td>
                                <td>Por funcionalidad (Budget, Guests, etc.)</td>
                                <td>âœ… Por development</td>
                            </tr>
                            <tr>
                                <td><strong>ğŸ“ Blog/Post System</strong></td>
                                <td>userUid + businessId + development</td>
                                <td>Por business + development</td>
                                <td>Por tenant (business + development)</td>
                                <td>âœ… Por business + development</td>
                            </tr>
                            <tr>
                                <td><strong>âš™ï¸ ViewConfig System</strong></td>
                                <td>createdBy + sharedWith + permissions</td>
                                <td>Individual + Permisos especÃ­ficos</td>
                                <td>View, Edit, Delete, Share</td>
                                <td>âœ… Por business</td>
                            </tr>
                            <tr>
                                <td><strong>ğŸ‘¥ Group System</strong></td>
                                <td>createdBy + members + permissions</td>
                                <td>Por membresÃ­a</td>
                                <td>View, Edit, Delete</td>
                                <td>âœ… Por business</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="best-practices">
                    <h3>ğŸš€ MEJORES PRÃCTICAS Y RECOMENDACIONES</h3>
                    
                    <h4>âœ… PRÃCTICAS RECOMENDADAS</h4>
                    <ul>
                        <li><strong>Seguridad por defecto:</strong> Siempre validar development access antes de ownership</li>
                        <li><strong>Permisos granulares:</strong> Usar permisos especÃ­ficos en lugar de roles genÃ©ricos</li>
                        <li><strong>AuditorÃ­a:</strong> Registrar todas las acciones de comparticiÃ³n</li>
                        <li><strong>ValidaciÃ³n en cascada:</strong> JWT â†’ Development â†’ Ownership â†’ Permisos</li>
                        <li><strong>LÃ­mites de comparticiÃ³n:</strong> MÃ¡ximo 50 usuarios individuales, 20 grupos</li>
                    </ul>

                    <h4>âš ï¸ PRÃCTICAS A EVITAR</h4>
                    <ul>
                        <li><strong>Permisos globales:</strong> No dar acceso completo por defecto</li>
                        <li><strong>ComparticiÃ³n masiva:</strong> Evitar compartir con grupos muy grandes</li>
                        <li><strong>Permisos heredados:</strong> No asumir permisos por pertenencia a grupo</li>
                        <li><strong>ValidaciÃ³n Ãºnica:</strong> No confiar solo en JWT, validar ownership</li>
                        <li><strong>Permisos permanentes:</strong> Revisar regularmente accesos compartidos</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Frontend Section -->
        <section id="frontend" class="section">
            <div class="container">
                <h2 class="section-title">
                    <i class="fas fa-code"></i>
                    ConfiguraciÃ³n Frontend
                </h2>

                <div class="frontend-setup">
                    <h3>âš™ï¸ ConfiguraciÃ³n del Proyecto</h3>
                    
                    <div class="setup-steps">
                        <h4>1. InstalaciÃ³n de Dependencias</h4>
                        <pre><code class="language-bash">npm install @apollo/client graphql react react-dom typescript
npm install @types/react @types/react-dom @types/node
npm install axios formik yup react-router-dom</code></pre>

                        <h4>2. ConfiguraciÃ³n de Apollo Client</h4>
                        <pre><code class="language-typescript">import { ApolloClient, InMemoryCache, createHttpLink } from '@apollo/client';
import { setContext } from '@apollo/client/link/context';

const httpLink = createHttpLink({
  uri: 'http://localhost:3000/graphql', // Test
  // uri: 'http://localhost:4000/graphql', // Production
});

const authLink = setContext((_, { headers }) => {
  const token = localStorage.getItem('authToken');
  return {
    headers: {
      ...headers,
      authorization: token ? `Bearer ${token}` : "",
    }
  }
});

const client = new ApolloClient({
  link: authLink.concat(httpLink),
  cache: new InMemoryCache()
});</code></pre>

                        <h4>3. ConfiguraciÃ³n de Rutas</h4>
                        <pre><code class="language-typescript">import { BrowserRouter, Routes, Route } from 'react-router-dom';

function App() {
  return (
    <BrowserRouter>
      <Routes>
        <Route path="/" element={<Dashboard />} />
        <Route path="/leads" element={<Leads />} />
        <Route path="/contacts" element={<Contacts />} />
        <Route path="/entities" element={<Entities />} />
        <Route path="/campaigns" element={<Campaigns />} />
        <Route path="/events" element={<Events />} />
        <Route path="/analytics" element={<Analytics />} />
      </Routes>
    </BrowserRouter>
  );
}</code></pre>
                    </div>
                </div>

                <div class="component-examples">
                    <h3>ğŸ§© Componentes de Ejemplo</h3>
                    
                    <div class="component-card">
                        <h4>Componente de Leads</h4>
                        <pre><code class="language-typescript">import React, { useState, useEffect } from 'react';
import { useQuery, useMutation } from '@apollo/client';
import { GET_CRM_LEADS, UPDATE_CRM_LEAD } from '../graphql/queries';

interface Lead {
  _id: string;
  name: string;
  email: string;
  phone: string;
  company: string;
  status: string;
  value: number;
  probability: number;
  assignedTo: string;
  createdAt: string;
}

const Leads: React.FC = () => {
  const [leads, setLeads] = useState<Lead[]>([]);
  const [loading, setLoading] = useState(true);
  
  const { data, loading: queryLoading } = useQuery(GET_CRM_LEADS, {
    variables: { limit: 50, offset: 0 }
  });

  const [updateLead] = useMutation(UPDATE_CRM_LEAD);

  useEffect(() => {
    if (data?.getCRMLeads?.leads) {
      setLeads(data.getCRMLeads.leads);
      setLoading(false);
    }
  }, [data]);

  const handleStatusChange = async (leadId: string, newStatus: string) => {
    try {
      await updateLead({
        variables: { leadId, updates: { status: newStatus } }
      });
      // Actualizar estado local
    } catch (error) {
      console.error('Error updating lead:', error);
    }
  };

  if (loading) return <div>Cargando leads...</div>;

  return (
    <div className="leads-container">
      <h2>GestiÃ³n de Leads</h2>
      <div className="leads-grid">
        {leads.map(lead => (
          <div key={lead._id} className="lead-card">
            <h3>{lead.name}</h3>
            <p>{lead.email}</p>
            <p>{lead.company}</p>
            <select 
              value={lead.status}
              onChange={(e) => handleStatusChange(lead._id, e.target.value)}
            >
              <option value="new">Nuevo</option>
              <option value="contacted">Contactado</option>
              <option value="qualified">Calificado</option>
              <option value="proposal">Propuesta</option>
              <option value="negotiation">NegociaciÃ³n</option>
              <option value="won">Ganado</option>
              <option value="lost">Perdido</option>
            </select>
          </div>
        ))}
      </div>
    </div>
  );
};

export default Leads;</code></pre>
                    </div>
                </div>
            </div>
        </section>

        <!-- Whitelabel Section -->
        <section id="whitelabel" class="section">
            <div class="container">
                <h2 class="section-title">
                    <i class="fas fa-building"></i>
                    ğŸ¢ Sistema Whitelabel y Multi-Tenant
                </h2>

                <div class="whitelabel-overview">
                    <h3>ğŸŒ Arquitectura Multi-Tenant</h3>
                    <p>El sistema implementa una arquitectura completa de marca blanca que permite a diferentes desarrolladores tener sus propios entornos personalizados.</p>
                </div>

                <div class="whitelabel-components">
                    <h3>ğŸ—ï¸ Componentes del Sistema</h3>
                    
                    <div class="component-card">
                        <h4>ğŸ‘¨â€ğŸ’» WhitelabelDeveloper</h4>
                        <div class="component-content">
                            <h5>Campos Principales:</h5>
                            <ul>
                                <li><strong>id</strong> - Identificador Ãºnico del desarrollador</li>
                                <li><strong>name</strong> - Nombre del desarrollador/empresa</li>
                                <li><strong>email</strong> - Email de contacto</li>
                                <li><strong>permissions</strong> - Array de permisos especÃ­ficos</li>
                                <li><strong>status</strong> - Estado activo/inactivo</li>
                                <li><strong>created_at</strong> - Fecha de creaciÃ³n</li>
                            </ul>
                        </div>
                    </div>

                    <div class="component-card">
                        <h4>ğŸ·ï¸ WhitelabelInfo</h4>
                        <div class="component-content">
                            <h5>Campos Principales:</h5>
                            <ul>
                                <li><strong>whitelabel_id</strong> - ID Ãºnico de la marca blanca</li>
                                <li><strong>brand_name</strong> - Nombre de la marca</li>
                                <li><strong>logo_url</strong> - URL del logo personalizado</li>
                                <li><strong>color_scheme</strong> - Esquema de colores</li>
                                <li><strong>custom_domain</strong> - Dominio personalizado</li>
                            </ul>
                        </div>
                    </div>

                    <div class="component-card">
                        <h4>âš™ï¸ Development</h4>
                        <div class="component-content">
                            <h5>Campos Principales:</h5>
                            <ul>
                                <li><strong>development_id</strong> - ID del entorno</li>
                                <li><strong>title</strong> - TÃ­tulo del development</li>
                                <li><strong>permissions</strong> - Permisos del entorno</li>
                                <li><strong>role</strong> - Rol del usuario en el development</li>
                                <li><strong>status</strong> - Estado del development</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="whitelabel-queries">
                    <h3>ğŸ” Queries de Whitelabel</h3>
                    
                    <div class="query-examples">
                        <h4>Consultas Principales:</h4>
                        <pre><code class="language-graphql"># Obtener desarrollador por ID
query GetWhitelabelDeveloper($developerId: ID!) {
  getWhitelabelDeveloper(developerId: $developerId) {
    id
    name
    email
    permissions
    status
    created_at
    whitelabel_info {
      whitelabel_id
      brand_name
      logo_url
      color_scheme
      custom_domain
    }
  }
}

# Obtener informaciÃ³n de marca blanca
query GetWhitelabelInfo($whitelabelId: ID!) {
  getWhitelabelInfo(whitelabelId: $whitelabelId) {
    whitelabel_id
    brand_name
    logo_url
    color_scheme
    custom_domain
    features {
      crm_enabled
      events_enabled
      campaigns_enabled
      analytics_enabled
    }
    limits {
      max_users
      max_storage
      max_api_calls
    }
  }
}

# Obtener development por usuario
query GetUserDevelopment($userId: ID!) {
  getUserDevelopment(userId: $userId) {
    development_id
    title
    permissions
    role
    status
    whitelabel_info {
      brand_name
      logo_url
    }
  }
}</code></pre>
                    </div>
                </div>

                <div class="whitelabel-mutations">
                    <h3>âš™ï¸ Mutations de Whitelabel</h3>
                    
                    <div class="mutation-examples">
                        <h4>Operaciones Principales:</h4>
                        <pre><code class="language-graphql"># Crear nuevo desarrollador
mutation CreateWhitelabelDeveloper($developer: WhitelabelDeveloperInput!) {
  createWhitelabelDeveloper(developer: $developer) {
    success
    developer {
      id
      name
      email
      status
    }
    errors
  }
}

# Actualizar informaciÃ³n de marca blanca
mutation UpdateWhitelabelInfo($whitelabelId: ID!, $updates: WhitelabelInfoInput!) {
  updateWhitelabelInfo(whitelabelId: $whitelabelId, updates: $updates) {
    success
    whitelabel_info {
      whitelabel_id
      brand_name
      logo_url
      color_scheme
    }
    errors
  }
}

# Asignar usuario a development
mutation AssignUserToDevelopment($userId: ID!, $developmentId: ID!, $role: String!) {
  assignUserToDevelopment(userId: $userId, developmentId: $developmentId, role: $role) {
    success
    user {
      uid
      email
      development
      role
    }
    errors
  }
}</code></pre>
                    </div>
                </div>

                <div class="whitelabel-use-cases">
                    <h3>ğŸ¯ Casos de Uso del Sistema</h3>
                    
                    <div class="use-case-card">
                        <h4>1. ğŸ¢ Empresa que Vende Software como Servicio</h4>
                        <div class="use-case-content">
                            <h5>Escenario:</h5>
                            <p>Una empresa vende el CRM a diferentes clientes, cada uno con su propia marca y configuraciÃ³n.</p>
                            <h5>ImplementaciÃ³n:</h5>
                            <ul>
                                <li>Crear WhitelabelDeveloper para cada cliente</li>
                                <li>Configurar WhitelabelInfo con logo y colores</li>
                                <li>Asignar usuarios al Development correspondiente</li>
                                <li>Configurar permisos especÃ­ficos por cliente</li>
                            </ul>
                        </div>
                    </div>

                    <div class="use-case-card">
                        <h4>2. ğŸ¨ Agencia de Marketing con MÃºltiples Clientes</h4>
                        <div class="use-case-content">
                            <h5>Escenario:</h5>
                            <p>Una agencia usa el sistema para gestionar campaÃ±as de diferentes clientes.</p>
                            <h5>ImplementaciÃ³n:</h5>
                            <ul>
                                <li>Development por cliente con su propia marca</li>
                                <li>Usuarios de la agencia con acceso a mÃºltiples developments</li>
                                <li>Permisos granulares por cliente y funcionalidad</li>
                                <li>Reportes separados por development</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Whitelabel Section -->
        <section id="whitelabel" class="section">
            <div class="container">
                <h2 class="section-title">
                    <i class="fas fa-building"></i>
                    ğŸ¢ Sistema Whitelabel y Multi-Tenant
                </h2>

                <div class="whitelabel-overview">
                    <h3>ğŸŒ Arquitectura Multi-Tenant</h3>
                    <p>El sistema implementa una arquitectura completa de marca blanca que permite a diferentes desarrolladores tener sus propios entornos personalizados.</p>
                </div>

                <div class="whitelabel-components">
                    <h3>ğŸ—ï¸ Componentes del Sistema</h3>
                    
                    <div class="component-card">
                        <h4>ğŸ‘¨â€ğŸ’» WhitelabelDeveloper</h4>
                        <div class="component-content">
                            <h5>Campos Principales:</h5>
                            <ul>
                                <li><strong>id</strong> - Identificador Ãºnico del desarrollador</li>
                                <li><strong>name</strong> - Nombre del desarrollador/empresa</li>
                                <li><strong>email</strong> - Email de contacto</li>
                                <li><strong>permissions</strong> - Array de permisos especÃ­ficos</li>
                                <li><strong>status</strong> - Estado activo/inactivo</li>
                                <li><strong>created_at</strong> - Fecha de creaciÃ³n</li>
                            </ul>
                        </div>
                    </div>

                    <div class="component-card">
                        <h4>ğŸ·ï¸ WhitelabelInfo</h4>
                        <div class="component-content">
                            <h5>Campos Principales:</h5>
                            <ul>
                                <li><strong>whitelabel_id</strong> - ID Ãºnico de la marca blanca</li>
                                <li><strong>brand_name</strong> - Nombre de la marca</li>
                                <li><strong>logo_url</strong> - URL del logo personalizado</li>
                                <li><strong>color_scheme</strong> - Esquema de colores</li>
                                <li><strong>custom_domain</strong> - Dominio personalizado</li>
                            </ul>
                        </div>
                    </div>

                    <div class="component-card">
                        <h4>âš™ï¸ Development</h4>
                        <div class="component-content">
                            <h5>Campos Principales:</h5>
                            <ul>
                                <li><strong>development_id</strong> - ID del entorno</li>
                                <li><strong>title</strong> - TÃ­tulo del development</li>
                                <li><strong>permissions</strong> - Permisos del entorno</li>
                                <li><strong>role</strong> - Rol del usuario en el development</li>
                                <li><strong>status</strong> - Estado del development</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="whitelabel-queries">
                    <h3>ğŸ” Queries de Whitelabel</h3>
                    
                    <div class="query-examples">
                        <h4>Consultas Principales:</h4>
                        <pre><code class="language-graphql"># Obtener desarrollador por ID
query GetWhitelabelDeveloper($developerId: ID!) {
  getWhitelabelDeveloper(developerId: $developerId) {
    id
    name
    email
    permissions
    status
    created_at
    whitelabel_info {
      whitelabel_id
      brand_name
      logo_url
      color_scheme
      custom_domain
    }
  }
}

# Obtener informaciÃ³n de marca blanca
query GetWhitelabelInfo($whitelabelId: ID!) {
  getWhitelabelInfo(whitelabelId: $whitelabelId) {
    whitelabel_id
    brand_name
    logo_url
    color_scheme
    custom_domain
    features {
      crm_enabled
      events_enabled
      campaigns_enabled
      analytics_enabled
    }
    limits {
      max_users
      max_storage
      max_api_calls
    }
  }
}

# Obtener development por usuario
query GetUserDevelopment($userId: ID!) {
  getUserDevelopment(userId: $userId) {
    development_id
    title
    permissions
    role
    status
    whitelabel_info {
      brand_name
      logo_url
    }
  }
}</code></pre>
                    </div>
                </div>

                <div class="whitelabel-mutations">
                    <h3>âš™ï¸ Mutations de Whitelabel</h3>
                    
                    <div class="mutation-examples">
                        <h4>Operaciones Principales:</h4>
                        <pre><code class="language-graphql"># Crear nuevo desarrollador
mutation CreateWhitelabelDeveloper($developer: WhitelabelDeveloperInput!) {
  createWhitelabelDeveloper(developer: $developer) {
    success
    developer {
      id
      name
      email
      status
    }
    errors
  }
}

# Actualizar informaciÃ³n de marca blanca
mutation UpdateWhitelabelInfo($whitelabelId: ID!, $updates: WhitelabelInfoInput!) {
  updateWhitelabelInfo(whitelabelId: $whitelabelId, updates: $updates) {
    success
    whitelabel_info {
      whitelabel_id
      brand_name
      logo_url
      color_scheme
    }
    errors
  }
}

# Asignar usuario a development
mutation AssignUserToDevelopment($userId: ID!, $developmentId: ID!, $role: String!) {
  assignUserToDevelopment(userId: $userId, developmentId: $developmentId, role: $role) {
    success
    user {
      uid
      email
      development
      role
    }
    errors
  }
}</code></pre>
                    </div>
                </div>

                <div class="whitelabel-use-cases">
                    <h3>ğŸ¯ Casos de Uso del Sistema</h3>
                    
                    <div class="use-case-card">
                        <h4>1. ğŸ¢ Empresa que Vende Software como Servicio</h4>
                        <div class="use-case-content">
                            <h5>Escenario:</h5>
                            <p>Una empresa vende el CRM a diferentes clientes, cada uno con su propia marca y configuraciÃ³n.</p>
                            <h5>ImplementaciÃ³n:</h5>
                            <ul>
                                <li>Crear WhitelabelDeveloper para cada cliente</li>
                                <li>Configurar WhitelabelInfo con logo y colores</li>
                                <li>Asignar usuarios al Development correspondiente</li>
                                <li>Configurar permisos especÃ­ficos por cliente</li>
                            </ul>
                        </div>
                    </div>

                    <div class="use-case-card">
                        <h4>2. ğŸ¨ Agencia de Marketing con MÃºltiples Clientes</h4>
                        <div class="use-case-content">
                            <h5>Escenario:</h5>
                            <p>Una agencia usa el sistema para gestionar campaÃ±as de diferentes clientes.</p>
                            <h5>ImplementaciÃ³n:</h5>
                            <ul>
                                <li>Development por cliente con su propia marca</li>
                                <li>Usuarios de la agencia con acceso a mÃºltiples developments</li>
                                <li>Permisos granulares por cliente y funcionalidad</li>
                                <li>Reportes separados por development</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Examples Section -->
        <section id="examples" class="section">
            <div class="container">
                <h2 class="section-title">
                    <i class="fas fa-lightbulb"></i>
                    Casos de Uso y Ejemplos
                </h2>

                <div class="use-cases">
                    <h3>ğŸ¯ Casos de Uso Principales</h3>
                    
                    <div class="use-case-card">
                        <h4>1. GestiÃ³n de Pipeline de Leads</h4>
                        <div class="use-case-content">
                            <h5>Flujo:</h5>
                            <ol>
                                <li>Captura de lead desde formulario web</li>
                                <li>AsignaciÃ³n automÃ¡tica o manual</li>
                                <li>Seguimiento con recordatorios</li>
                                <li>CalificaciÃ³n y scoring</li>
                                <li>ConversiÃ³n a contacto/entidad</li>
                                <li>AnÃ¡lisis de mÃ©tricas</li>
                            </ol>
                        </div>
                    </div>

                    <div class="use-case-card">
                        <h4>2. CampaÃ±as de Marketing Multi-Canal</h4>
                        <div class="use-case-content">
                            <h5>Flujo:</h5>
                            <ol>
                                <li>SegmentaciÃ³n de audiencia</li>
                                <li>CreaciÃ³n de plantillas</li>
                                <li>ProgramaciÃ³n de envÃ­os</li>
                                <li>AutomatizaciÃ³n de respuestas</li>
                                <li>Seguimiento de engagement</li>
                                <li>OptimizaciÃ³n basada en mÃ©tricas</li>
                            </ol>
                        </div>
                    </div>

                    <div class="use-case-card">
                        <h4>3. GestiÃ³n de Eventos Corporativos</h4>
                        <div class="use-case-content">
                            <h5>Flujo:</h5>
                            <ol>
                                <li>CreaciÃ³n del evento</li>
                                <li>GestiÃ³n de invitados</li>
                                <li>Control de presupuesto</li>
                                <li>AsignaciÃ³n de tareas</li>
                                <li>Seguimiento de asistencia</li>
                                <li>AnÃ¡lisis post-evento</li>
                            </ol>
                        </div>
                    </div>
                </div>

                <div class="code-examples">
                    <h3>ğŸ’» Ejemplos de CÃ³digo</h3>
                    
                    <div class="example-card">
                        <h4>Crear Lead con Notas</h4>
                        <pre><code class="language-typescript">const CREATE_LEAD_WITH_NOTE = gql`
  mutation CreateLeadWithNote($lead: CRM_LeadInput!, $note: CRM_NoteInput!) {
    createCRMLead(lead: $lead) {
      _id
      name
      email
      status
    }
    addCRMLeadNote(leadId: $lead._id, note: $note) {
      _id
      content
      createdAt
    }
  }
`;

const CreateLead: React.FC = () => {
  const [createLead] = useMutation(CREATE_LEAD_WITH_NOTE);

  const handleSubmit = async (values: any) => {
    try {
      const result = await createLead({
        variables: {
          lead: {
            name: values.name,
            email: values.email,
            phone: values.phone,
            company: values.company,
            source: values.source,
            status: 'new',
            value: parseFloat(values.value),
            probability: 0.1
          },
          note: {
            content: values.notes,
            type: 'initial_contact'
          }
        }
      });
      
      // Manejar Ã©xito
    } catch (error) {
      // Manejar error
    }
  };

  return (
    <Formik
      initialValues={{
        name: '',
        email: '',
        phone: '',
        company: '',
        source: '',
        value: '',
        notes: ''
      }}
      onSubmit={handleSubmit}
    >
      {/* Formulario */}
    </Formik>
  );
};</code></pre>
                    </div>
                </div>
            </div>
        </section>

        <!-- Deployment Section -->
        <section id="deployment" class="section">
            <div class="container">
                <h2 class="section-title">
                    <i class="fas fa-rocket"></i>
                    Despliegue y ConfiguraciÃ³n
                </h2>

                <div class="deployment-overview">
                    <h3>ğŸš€ ConfiguraciÃ³n de ProducciÃ³n</h3>
                    
                    <div class="env-config">
                        <h4>Variables de Entorno</h4>
                        <pre><code class="language-bash"># API Configuration
GRAPHQL_PORT=4000
MCP_PORT=4001

# Database
MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/crm_production

# Firebase
FIREBASE_PROJECT_ID=your-project-id
FIREBASE_PRIVATE_KEY=your-private-key
FIREBASE_CLIENT_EMAIL=your-client-email

# JWT
JWT_SECRET=your-super-secret-jwt-key

# External Services
WHATSAPP_API_KEY=your-whatsapp-api-key
EMAIL_SERVICE_API_KEY=your-email-service-key

# Security
CORS_ORIGIN=https://yourdomain.com
RATE_LIMIT_WINDOW=15m
RATE_LIMIT_MAX=100</code></pre>
                    </div>

                    <div class="nginx-config">
                        <h4>ConfiguraciÃ³n Nginx</h4>
                        <pre><code class="language-nginx">server {
    listen 80;
    server_name api2.eventosorganizador.com;
    
    location /graphql {
        proxy_pass http://localhost:4000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_cache_bypass $http_upgrade;
    }
    
    location /mcp {
        proxy_pass http://localhost:4001;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_cache_bypass $http_upgrade;
    }
}</code></pre>
                    </div>
                </div>

                <div class="monitoring">
                    <h3>ğŸ“Š Monitoreo y Logs</h3>
                    
                    <div class="monitoring-tools">
                        <h4>Herramientas Recomendadas:</h4>
                        <ul>
                            <li><strong>Health Checks</strong> - Endpoints de estado de la API</li>
                            <li><strong>Logs Estructurados</strong> - Winston + Morgan</li>
                            <li><strong>MÃ©tricas</strong> - Prometheus + Grafana</li>
                            <li><strong>Alertas</strong> - Notificaciones automÃ¡ticas</li>
                            <li><strong>Backup</strong> - Respaldo automÃ¡tico de MongoDB</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Estado de Servicios y Monitoreo -->
        <section id="monitoring" class="section">
            <div class="container">
                <div class="section-header">
                    <h3><i class="fas fa-server"></i> ğŸš€ Estado de Servicios y Monitoreo en Tiempo Real</h3>
                    <p>InformaciÃ³n actualizada sobre el estado de todos los servicios del CRM</p>
                </div>
                
                <div class="content-card">
                    <h4>ğŸ“Š Estado Actual de los Servicios</h4>
                    
                    <div class="services-status">
                        <div class="service-card active">
                            <h5><i class="fas fa-check-circle"></i> API GraphQL - ProducciÃ³n</h5>
                            <div class="service-details">
                                <p><strong>Estado:</strong> <span class="status-active">ğŸŸ¢ ACTIVO</span></p>
                                <p><strong>Puerto:</strong> 4000</p>
                                <p><strong>Endpoint:</strong> <code>https://api2.eventosorganizador.com/graphql</code></p>
                                <p><strong>Contenedor:</strong> api-prod (UP - 12+ dÃ­as)</p>
                                <p><strong>Uptime:</strong> 12+ dÃ­as</p>
                            </div>
                        </div>

                        <div class="service-card active">
                            <h5><i class="fas fa-check-circle"></i> Servicio MCP - ProducciÃ³n</h5>
                            <div class="service-details">
                                <p><strong>Estado:</strong> <span class="status-active">ğŸŸ¢ ACTIVO</span></p>
                                <p><strong>Puerto:</strong> 4001</p>
                                <p><strong>Endpoint:</strong> <code>https://api2.eventosorganizador.com/tools</code></p>
                                <p><strong>Proceso:</strong> Node.js (PID: 1850177)</p>
                                <p><strong>Herramientas:</strong> 25+ disponibles</p>
                            </div>
                        </div>

                        <div class="service-card active">
                            <h5><i class="fas fa-check-circle"></i> API GraphQL - Test</h5>
                            <div class="service-details">
                                <p><strong>Estado:</strong> <span class="status-active">ğŸŸ¢ ACTIVO</span></p>
                                <p><strong>Puerto:</strong> 3000</p>
                                <p><strong>Endpoint:</strong> <code>https://testapi2.eventosorganizador.com/graphql</code></p>
                                <p><strong>Contenedor:</strong> api-test (UP - 8+ dÃ­as)</p>
                                <p><strong>Uptime:</strong> 8+ dÃ­as</p>
                            </div>
                        </div>
                    </div>

                    <h4>ğŸ” Endpoints de Monitoreo Disponibles</h4>
                    <div class="monitoring-endpoints">
                        <div class="endpoint-grid">
                            <div class="endpoint-card">
                                <h6><i class="fas fa-heartbeat"></i> Health Checks</h6>
                                <ul>
                                    <li><strong>API ProducciÃ³n:</strong> <code>https://api2.eventosorganizador.com/health</code></li>
                                    <li><strong>MCP ProducciÃ³n:</strong> <code>https://api2.eventosorganizador.com/mcp/health</code></li>
                                    <li><strong>API Test:</strong> <code>https://testapi2.eventosorganizador.com/health</code></li>
                                </ul>
                            </div>

                            <div class="endpoint-card">
                                <h6><i class="fas fa-tools"></i> Herramientas MCP</h6>
                                <ul>
                                    <li><strong>Lista de Herramientas:</strong> <code>https://api2.eventosorganizador.com/tools</code></li>
                                    <li><strong>SSE Endpoint:</strong> <code>https://api2.eventosorganizador.com/sse</code></li>
                                    <li><strong>MCP TCP:</strong> <code>https://api2.eventosorganizador.com/mcp-tcp</code></li>
                                </ul>
                            </div>

                            <div class="endpoint-card">
                                <h6><i class="fas fa-database"></i> Base de Datos</h6>
                                <ul>
                                    <li><strong>MongoDB Atlas:</strong> Conectado y funcionando</li>
                                    <li><strong>Base ProducciÃ³n:</strong> api-directorio-bodas</li>
                                    <li><strong>Base Test:</strong> prueba1</li>
                                    <li><strong>Estado:</strong> ğŸŸ¢ Conectado</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <h4>âš¡ Comandos de Monitoreo en Tiempo Real</h4>
                    <div class="monitoring-commands">
                        <div class="command-section">
                            <h6>ğŸ” Verificar Estado de Servicios</h6>
                            <pre><code class="language-bash"># Verificar puertos activos
netstat -tlnp | grep -E ":(3000|4000|4001)"

# Verificar contenedores Docker
docker ps -a | grep -E "(api-prod|api-test|mcp)"

# Verificar procesos Node.js
ps aux | grep -E "(node|npm|ts-node)" | grep -v grep

# Verificar logs de servicios
tail -f mcp-express.log
docker logs api-prod --tail 20
docker logs api-test --tail 20</code></pre>
                        </div>

                        <div class="command-section">
                            <h6>ğŸš€ Reiniciar Servicios</h6>
                            <pre><code class="language-bash"># Reiniciar servicio MCP
kill $(ps aux | grep "start-mcp-express" | grep -v grep | awk '{print $2}')
nohup node ./dist-express/start-mcp-express.js > mcp-express.log 2>&1 &

# Reiniciar contenedores Docker
docker restart api-prod
docker restart api-test

# Recargar configuraciÃ³n Nginx
systemctl reload nginx</code></pre>
                        </div>

                        <div class="command-section">
                            <h6>ğŸ“Š Verificar Logs y Errores</h6>
                            <pre><code class="language-bash"># Logs de Nginx
tail -f /var/log/nginx/api2.error.log
tail -f /var/log/nginx/api2.access.log

# Logs de servicios
tail -f mcp-express.log
tail -f combined.log
tail -f error.log

# Verificar configuraciÃ³n Nginx
nginx -t
cat /etc/nginx/sites-available/api2.eventosorganizador.com</code></pre>
                        </div>
                    </div>

                    <h4>ğŸ”„ Flujo de Monitoreo AutomÃ¡tico</h4>
                    <div class="monitoring-flow">
                        <div class="flow-diagram">
                            <pre><code class="language-text">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                SISTEMA DE MONITOREO AUTOMÃTICO                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   HEALTH CHECK  â”‚    â”‚   LOG MONITOR   â”‚    â”‚   ALERTAS   â”‚ â”‚
â”‚  â”‚   CADA 5 MIN    â”‚â”€â”€â”€â–¶â”‚   EN TIEMPO     â”‚â”€â”€â”€â–¶â”‚   AUTOMÃTICASâ”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚   REAL          â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚           â”‚                       â”‚                    â”‚        â”‚
â”‚           â”‚                       â”‚                    â”‚        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   MÃ‰TRICAS      â”‚    â”‚   PERFORMANCE   â”‚    â”‚   BACKUP    â”‚ â”‚
â”‚  â”‚   EN TIEMPO     â”‚    â”‚   MONITORING    â”‚    â”‚   AUTOMÃTICOâ”‚ â”‚
â”‚  â”‚   REAL          â”‚    â”‚                 â”‚    â”‚             â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</code></pre>
                        </div>

                        <div class="monitoring-features">
                            <h6>âœ… CaracterÃ­sticas del Sistema de Monitoreo</h6>
                            <ul>
                                <li><strong>Health Checks AutomÃ¡ticos:</strong> VerificaciÃ³n cada 5 minutos</li>
                                <li><strong>Logs Estructurados:</strong> Winston + Morgan para logging</li>
                                <li><strong>MÃ©tricas en Tiempo Real:</strong> Prometheus + Grafana</li>
                                <li><strong>Alertas AutomÃ¡ticas:</strong> Notificaciones por email/Slack</li>
                                <li><strong>Backup AutomÃ¡tico:</strong> MongoDB Atlas + respaldo local</li>
                                <li><strong>Uptime Monitoring:</strong> Seguimiento de disponibilidad</li>
                                <li><strong>Performance Metrics:</strong> Latencia, throughput, errores</li>
                            </ul>
                        </div>
                    </div>

                    <h4>ğŸ¯ PrÃ³ximos Pasos para Monitoreo</h4>
                    <div class="next-steps-monitoring">
                        <div class="step-card">
                            <h6><i class="fas fa-robot"></i> 1. AutomatizaciÃ³n de Health Checks</h6>
                            <p>Implementar cron jobs para verificaciÃ³n automÃ¡tica de servicios</p>
                        </div>
                        
                        <div class="step-card">
                            <h6><i class="fas fa-chart-line"></i> 2. Dashboard de MÃ©tricas</h6>
                            <p>Crear panel de control con Grafana para visualizaciÃ³n de mÃ©tricas</p>
                        </div>
                        
                        <div class="step-card">
                            <h6><i class="fas fa-bell"></i> 3. Sistema de Alertas</h6>
                            <p>Configurar notificaciones automÃ¡ticas para fallos de servicios</p>
                        </div>
                        
                        <div class="step-card">
                            <h6><i class="fas fa-database"></i> 4. Monitoreo de Base de Datos</h6>
                            <p>Implementar mÃ©tricas de MongoDB Atlas y alertas de rendimiento</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Sistema de Monitoreo y Alertas Detallado -->
        <section id="monitoring-detailed" class="section">
            <div class="container">
                <div class="section-header">
                    <h3><i class="fas fa-bell"></i> ğŸ”” Sistema de Monitoreo y Alertas Detallado</h3>
                    <p>GuÃ­a completa del sistema de monitoreo automÃ¡tico y alertas por email</p>
                </div>
                
                <div class="content-card">
                    <h4>ğŸ“Š Â¿CÃ³mo Funciona el Monitoreo AutomÃ¡tico?</h4>
                    
                    <div class="monitoring-explanation">
                        <div class="explanation-grid">
                            <div class="explanation-card">
                                <h6><i class="fas fa-clock"></i> Monitoreo Cada 5 Minutos</h6>
                                <p>El sistema verifica automÃ¡ticamente:</p>
                                <ul>
                                    <li>âœ… Puertos activos (3000, 3001, 4000, 4001)</li>
                                    <li>âœ… Contenedores Docker (api-prod, api-test)</li>
                                    <li>âœ… Procesos Node.js (servicios MCP)</li>
                                    <li>âœ… Endpoints HTTP (health checks)</li>
                                    <li>âœ… Recursos del sistema (CPU, memoria, disco)</li>
                                </ul>
                            </div>

                            <div class="explanation-card">
                                <h6><i class="fas fa-file-alt"></i> Logs AutomÃ¡ticos</h6>
                                <p>Se generan logs con timestamp:</p>
                                <ul>
                                    <li>ğŸ“‹ <code>crm-status-YYYYMMDD.log</code> - Estado diario</li>
                                    <li>ğŸš¨ <code>crm-alerts-YYYYMMDD.log</code> - Alertas (si las hay)</li>
                                    <li>âŒ <code>crm-errors-YYYYMMDD.log</code> - Errores (si los hay)</li>
                                </ul>
                            </div>

                            <div class="explanation-card">
                                <h6><i class="fas fa-robot"></i> Cron Jobs Activos</h6>
                                <p>Tareas programadas automÃ¡ticas:</p>
                                <ul>
                                    <li>â° <strong>Cada 5 min:</strong> VerificaciÃ³n de servicios</li>
                                    <li>ğŸ“§ <strong>Cada hora:</strong> EnvÃ­o de alertas por email</li>
                                    <li>ğŸ§¹ <strong>Diario 2:00 AM:</strong> Limpieza de logs</li>
                                    <li>ğŸ’¾ <strong>Semanal 3:00 AM:</strong> Backup de logs</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <h4>ğŸ“§ Sistema de Alertas por Email con Brevo SMTP</h4>
                    
                    <div class="email-alerts-section">
                        <div class="alert-config">
                            <h6><i class="fas fa-envelope"></i> ConfiguraciÃ³n de Email</h6>
                            <p><strong>Email de destino:</strong> <code>bodasdehoy.com@gmail.com</code></p>
                            <p><strong>Servidor SMTP:</strong> <code>smtp-relay.brevo.com:587</code></p>
                            <p><strong>Frecuencia:</strong> Cada hora (solo si hay alertas)</p>
                            <p><strong>Formato:</strong> Email HTML con diseÃ±o profesional</p>
                        </div>

                        <div class="alert-triggers">
                            <h6><i class="fas fa-exclamation-triangle"></i> Â¿CuÃ¡ndo se EnvÃ­an Alertas?</h6>
                            <ul>
                                <li>ğŸš¨ <strong>Servicios caÃ­dos:</strong> Puerto inactivo, contenedor caÃ­do</li>
                                <li>âš ï¸ <strong>Recursos crÃ­ticos:</strong> CPU > 90%, Memoria > 95%, Disco > 90%</li>
                                <li>âŒ <strong>Endpoints no responden:</strong> Health checks fallidos</li>
                                <li>ğŸ”´ <strong>Procesos muertos:</strong> Node.js no responde</li>
                            </ul>
                        </div>

                        <div class="email-example">
                            <h6><i class="fas fa-eye"></i> Ejemplo de Email de Alerta</h6>
                            <div class="email-preview">
                                <div class="email-header">
                                    <h4>ğŸš¨ ALERTAS CRM - Marketing Soluciones</h4>
                                    <p>Sistema de Monitoreo AutomÃ¡tico</p>
                                </div>
                                <div class="email-content">
                                    <p><strong>Servidor:</strong> api2.eventosorganizador.com</p>
                                    <p><strong>Fecha:</strong> 2025-08-26 18:45:00</p>
                                    <p><strong>Total de Alertas:</strong> 2</p>
                                    <div class="alert-item">
                                        ğŸš¨ ALERTA: API GraphQL Test (puerto 3000) no responde
                                    </div>
                                    <div class="alert-item">
                                        âš ï¸ ALERTA: Uso de CPU crÃ­tico: 95%
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <h4>ğŸ› ï¸ Comandos para Monitoreo Manual</h4>
                    
                    <div class="manual-monitoring">
                        <div class="command-section">
                            <h6><i class="fas fa-terminal"></i> Comandos de Estado</h6>
                            <pre><code class="language-bash"># Estado rÃ¡pido del sistema
crm-status

# Monitoreo detallado manual
./monitor-services.sh

# Monitoreo continuo (actualiza cada 30 segundos)
./monitor-services.sh -c

# Ver estado de servicios especÃ­ficos
netstat -tlnp | grep -E ":(3000|3001|4000|4001)"
docker ps -a
ps aux | grep -E "(node|npm)" | grep -v grep</code></pre>
                        </div>

                        <div class="command-section">
                            <h6><i class="fas fa-file-alt"></i> Comandos de Logs</h6>
                            <pre><code class="language-bash"># Ver logs en tiempo real
tail -f /var/log/crm-monitoring/crm-status-$(date +%Y%m%d).log
tail -f /var/log/crm-monitoring/crm-alerts-$(date +%Y%m%d).log

# Ver logs del dÃ­a
cat /var/log/crm-monitoring/crm-status-$(date +%Y%m%d).log
cat /var/log/crm-monitoring/crm-alerts-$(date +%Y%m%d).log

# Ver todos los logs disponibles
ls -la /var/log/crm-monitoring/</code></pre>
                        </div>

                        <div class="command-section">
                            <h6><i class="fas fa-envelope"></i> Comandos de Email</h6>
                            <pre><code class="language-bash"># Probar sistema de email
test-email-alert.sh

# Enviar alertas manualmente
crm-send-alert-gmail.sh

# Ver configuraciÃ³n de email
cat /etc/ssmtp/ssmtp.conf
cat /etc/ssmtp/revaliases</code></pre>
                        </div>
                    </div>

                    <h4>ğŸ“ Estructura de Archivos del Sistema</h4>
                    
                    <div class="file-structure">
                        <div class="structure-tree">
                            <pre><code class="language-text">/var/log/crm-monitoring/
â”œâ”€â”€ crm-status-20250826.log          # Estado diario de servicios
â”œâ”€â”€ crm-alerts-20250826.log          # Alertas generadas (si las hay)
â”œâ”€â”€ crm-errors-20250826.log          # Errores encontrados (si los hay)
â””â”€â”€ backup-20250826.tar.gz           # Backup semanal (domingo 3:00 AM)

/usr/local/bin/
â”œâ”€â”€ crm-monitor.sh                   # Script de monitoreo automÃ¡tico
â”œâ”€â”€ crm-send-alert-gmail.sh          # Script de alertas por email
â”œâ”€â”€ crm-status                       # Comando rÃ¡pido de estado
â””â”€â”€ test-email-alert.sh              # Script de prueba de email

/var/www/api-production/
â”œâ”€â”€ monitor-services.sh               # Monitoreo manual detallado
â””â”€â”€ setup-gmail-alerts.sh            # ConfiguraciÃ³n de alertas</code></pre>
                        </div>
                    </div>

                    <h4>ğŸ”§ ConfiguraciÃ³n de Brevo SMTP</h4>
                    
                    <div class="brevo-config">
                        <div class="config-steps">
                            <h6><i class="fas fa-cog"></i> Pasos para Configurar Brevo</h6>
                            <ol>
                                <li><strong>Crear cuenta en Brevo</strong> (anteriormente Sendinblue)</li>
                                <li><strong>Generar clave SMTP</strong> en el panel de control</li>
                                <li><strong>Editar archivo de configuraciÃ³n:</strong> <code>/etc/ssmtp/ssmtp.conf</code></li>
                                <li><strong>Reemplazar:</strong> <code>TU_CONTRASEÃ‘A_DE_BREVO</code> con tu clave SMTP real</li>
                                <li><strong>Probar el sistema:</strong> <code>test-email-alert.sh</code></li>
                            </ol>
                        </div>

                        <div class="config-files">
                            <h6><i class="fas fa-file-code"></i> Archivos de ConfiguraciÃ³n</h6>
                            <div class="config-file">
                                <h7><code>/etc/ssmtp/ssmtp.conf</code></h7>
                                <pre><code class="language-conf"># ConfiguraciÃ³n Brevo SMTP para CRM
AuthUser=BODASDEHOY.COM@GMAIL.COM
AuthPass=TU_CONTRASEÃ‘A_DE_BREVO
AuthMethod=LOGIN
mailhub=smtp-relay.brevo.com:587
UseSTARTTLS=YES
UseTLS=YES
FromLineOverride=YES
hostname=api2.eventosorganizador.com</code></pre>
                            </div>
                        </div>
                    </div>

                    <h4>ğŸ“Š Dashboard de Monitoreo en Tiempo Real</h4>
                    
                    <div class="monitoring-dashboard">
                        <div class="dashboard-features">
                            <h6><i class="fas fa-tachometer-alt"></i> CaracterÃ­sticas del Dashboard</h6>
                            <ul>
                                <li>ğŸŸ¢ <strong>Estado visual:</strong> Verde (OK), Amarillo (Advertencia), Rojo (CrÃ­tico)</li>
                                <li>ğŸ“ˆ <strong>MÃ©tricas en tiempo real:</strong> CPU, memoria, disco, procesos</li>
                                <li>ğŸ” <strong>Logs en vivo:</strong> ActualizaciÃ³n automÃ¡tica cada 5 minutos</li>
                                <li>ğŸ“§ <strong>Historial de alertas:</strong> Todas las notificaciones enviadas</li>
                                <li>ğŸ“Š <strong>EstadÃ­sticas:</strong> Uptime, servicios activos, errores</li>
                            </ul>
                        </div>

                        <div class="dashboard-commands">
                            <h6><i class="fas fa-keyboard"></i> Comandos del Dashboard</h6>
                            <pre><code class="language-bash"># Dashboard principal
./monitor-services.sh

# Dashboard continuo
./monitor-services.sh -c

# Estado rÃ¡pido
crm-status

# Ver logs en tiempo real
tail -f /var/log/crm-monitoring/crm-status-$(date +%Y%m%d).log</code></pre>
                        </div>
                    </div>

                    <h4>ğŸ¯ Resumen del Sistema de Monitoreo</h4>
                    
                    <div class="monitoring-summary">
                        <div class="summary-grid">
                            <div class="summary-card">
                                <h6><i class="fas fa-check-circle"></i> âœ… Lo que SÃ Funciona</h6>
                                <ul>
                                    <li>Monitoreo automÃ¡tico cada 5 minutos</li>
                                    <li>Logs estructurados con timestamp</li>
                                    <li>VerificaciÃ³n de servicios crÃ­ticos</li>
                                    <li>Monitoreo de recursos del sistema</li>
                                    <li>Cron jobs automÃ¡ticos</li>
                                    <li>Scripts de monitoreo manual</li>
                                </ul>
                            </div>

                            <div class="summary-card">
                                <h6><i class="fas fa-cog"></i> âš™ï¸ Lo que Necesita ConfiguraciÃ³n</h6>
                                <ul>
                                    <li>Clave SMTP de Brevo</li>
                                    <li>ConfiguraciÃ³n de archivo ssmtp.conf</li>
                                    <li>Prueba del sistema de email</li>
                                    <li>VerificaciÃ³n de envÃ­o de alertas</li>
                                </ul>
                            </div>

                            <div class="summary-card">
                                <h6><i class="fas fa-rocket"></i> ğŸš€ PrÃ³ximas Mejoras</h6>
                                <ul>
                                    <li>Dashboard web con interfaz grÃ¡fica</li>
                                    <li>Alertas por Slack/Telegram</li>
                                    <li>MÃ©tricas con Prometheus + Grafana</li>
                                    <li>Notificaciones push mÃ³viles</li>
                                    <li>Reportes automÃ¡ticos diarios</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Marketing Soluciones</h3>
                    <p>Sistema CRM completo para gestiÃ³n de relaciones con clientes</p>
                </div>
                <div class="footer-section">
                    <h3>Enlaces Ãštiles</h3>
                    <ul>
                        <li><a href="https://github.com/carlos2325/crm-documentation">Repositorio</a></li>
                        <li><a href="https://carlos2325.github.io/crm-documentation/">DocumentaciÃ³n</a></li>
                        <li><a href="https://api2.eventosorganizador.com/">API Production</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Contacto</h3>
                    <p>Equipo de Desarrollo</p>
                    <p>Marketing Soluciones</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Marketing Soluciones. Todos los derechos reservados.</p>
            </div>
        </div>
    </footer>

    <!-- Scroll to Top Button -->
    <button id="scroll-top" class="scroll-top">
        <i class="fas fa-arrow-up"></i>
    </button>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="assets/js/main.js"></script>
</body>
</html>
