# ü§ñ Integraci√≥n con IA - Gu√≠a Completa

**Integra ChatGPT, Claude y otras IAs para automatizar tu negocio de eventos**

---

## üéØ **¬øQu√© puedes hacer con IA?**

### **Automatizaci√≥n Inteligente**
- ‚úÖ **Chatbots avanzados** con comprensi√≥n contextual
- ‚úÖ **Generaci√≥n autom√°tica** de contenido personalizado
- ‚úÖ **An√°lisis predictivo** de comportamiento de clientes
- ‚úÖ **Asistentes virtuales** para gesti√≥n de eventos

### **Integraciones Disponibles**
- ‚úÖ **OpenAI GPT-4** - Para conversaciones avanzadas
- ‚úÖ **Anthropic Claude** - Para an√°lisis complejos
- ‚úÖ **Google Gemini** - Para tareas multiformato
- ‚úÖ **IA Local** - Para privacidad total

---

## üöÄ **Configuraci√≥n B√°sica**

### **Configurar Claves de API**
```javascript
// Configuraci√≥n de claves de IA
const configuracionIA = {
  openai: {
    apiKey: "sk-tu-clave-openai",
    model: "gpt-4",
    temperature: 0.7
  },
  claude: {
    apiKey: "sk-ant-tu-clave-claude",
    model: "claude-3-sonnet-20240229",
    temperature: 0.7
  },
  gemini: {
    apiKey: "tu-clave-gemini",
    model: "gemini-pro",
    temperature: 0.7
  }
};
```

### **Verificar Conexiones de IA**
```javascript
async function verificarConexionesIA() {
  const response = await fetch('https://api2.eventosorganizador.com/graphql', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
      'Authorization': `Bearer ${miToken}`,
      'Origin': 'https://tu-dominio.com'
    },
    body: JSON.stringify({
      query: `
        query {
          getAIStatus {
            success
            status {
              openai {
                conectado
                modelo
                limiteUsos
                usosRestantes
              }
              claude {
                conectado
                modelo
                limiteUsos
                usosRestantes
              }
              gemini {
                conectado
                modelo
                limiteUsos
                usosRestantes
              }
            }
            errors
          }
        }
      `
    })
  });

  const data = await response.json();
  
  if (data.data.getAIStatus.success) {
    const status = data.data.getAIStatus.status;
    console.log('ü§ñ Estado de conexiones IA:');
    
    console.log('   OpenAI:');
    console.log(`     Conectado: ${status.openai.conectado ? '‚úÖ' : '‚ùå'}`);
    console.log(`     Modelo: ${status.openai.modelo}`);
    console.log(`     Usos restantes: ${status.openai.usosRestantes}`);
    
    console.log('   Claude:');
    console.log(`     Conectado: ${status.claude.conectado ? '‚úÖ' : '‚ùå'}`);
    console.log(`     Modelo: ${status.claude.modelo}`);
    console.log(`     Usos restantes: ${status.claude.usosRestantes}`);
    
    console.log('   Gemini:');
    console.log(`     Conectado: ${status.gemini.conectado ? '‚úÖ' : '‚ùå'}`);
    console.log(`     Modelo: ${status.gemini.modelo}`);
    console.log(`     Usos restantes: ${status.gemini.usosRestantes}`);
    
    return status;
  } else {
    console.log('‚ùå Error verificando IA:', data.data.getAIStatus.errors);
    return null;
  }
}
```

---

## üí¨ **Chatbot con IA Avanzado**

### **Crear Chatbot con IA**
```javascript
async function crearChatbotIA() {
  const response = await fetch('https://api2.eventosorganizador.com/graphql', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
      'Authorization': `Bearer ${miToken}`,
      'Origin': 'https://tu-dominio.com'
    },
    body: JSON.stringify({
      query: `
        mutation CreateAIChatbot($input: CreateAIChatbotInput!) {
          createAIChatbot(input: $input) {
            success
            chatbot {
              id
              nombre
              descripcion
              configuracion {
                modelo
                temperatura
                maxTokens
                sistemaPrompt
              }
              capacidades {
                analisisSentimientos
                generacionContenido
                recomendaciones
                traduccion
              }
              estado
              createdAt
            }
            errors
          }
        }
      `,
      variables: {
        input: {
          nombre: "Asistente IA de Bodas",
          descripcion: "Chatbot inteligente especializado en consultas sobre bodas",
          configuracion: {
            modelo: "gpt-4",
            temperatura: 0.7,
            maxTokens: 1000,
            sistemaPrompt: "Eres un asistente especializado en bodas y eventos. Ayudas a los clientes con consultas sobre precios, disponibilidad, decoraci√≥n, catering y todos los aspectos de la planificaci√≥n de bodas. Eres amable, profesional y conocedor del sector."
          },
          capacidades: {
            analisisSentimientos: true,
            generacionContenido: true,
            recomendaciones: true,
            traduccion: true
          }
        }
      }
    })
  });

  const data = await response.json();
  
  if (data.data.createAIChatbot.success) {
    const chatbot = data.data.createAIChatbot.chatbot;
    console.log('‚úÖ Chatbot IA creado exitosamente:');
    console.log(`   ID: ${chatbot.id}`);
    console.log(`   Nombre: ${chatbot.nombre}`);
    console.log(`   Modelo: ${chatbot.configuracion.modelo}`);
    console.log(`   Capacidades: ${Object.keys(chatbot.capacidades).filter(k => chatbot.capacidades[k]).join(', ')}`);
    return chatbot.id;
  } else {
    console.log('‚ùå Error creando chatbot IA:', data.data.createAIChatbot.errors);
    return null;
  }
}
```

### **Procesar Mensaje con IA**
```javascript
async function procesarMensajeIA(numero, mensaje, chatbotId) {
  const response = await fetch('https://api2.eventosorganizador.com/graphql', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
      'Authorization': `Bearer ${miToken}`,
      'Origin': 'https://tu-dominio.com'
    },
    body: JSON.stringify({
      query: `
        mutation ProcessAIMessage($input: ProcessAIMessageInput!) {
          processAIMessage(input: $input) {
            success
            respuesta {
              mensaje
              analisisSentimientos {
                emocion
                confianza
                polaridad
              }
              intencion {
                categoria
                subcategoria
                confianza
              }
              recomendaciones {
                tipo
                descripcion
                prioridad
              }
              datosExtraidos {
                fecha
                presupuesto
                ubicacion
                tipoEvento
              }
            }
            metadata {
              modelo
              tokensUsados
              tiempoProcesamiento
              costo
            }
            errors
          }
        }
      `,
      variables: {
        input: {
          numero: numero,
          mensaje: mensaje,
          chatbotId: chatbotId,
          contexto: {
            historialConversacion: [],
            datosCliente: {},
            preferencias: {}
          }
        }
      }
    })
  });

  const data = await response.json();
  
  if (data.data.processAIMessage.success) {
    const resultado = data.data.processAIMessage;
    console.log('ü§ñ Respuesta IA generada:');
    console.log(`   Mensaje: ${resultado.respuesta.mensaje}`);
    
    if (resultado.respuesta.analisisSentimientos) {
      const sentimientos = resultado.respuesta.analisisSentimientos;
      console.log(`   Sentimiento: ${sentimientos.emocion} (${sentimientos.confianza}%)`);
    }
    
    if (resultado.respuesta.intencion) {
      const intencion = resultado.respuesta.intencion;
      console.log(`   Intenci√≥n: ${intencion.categoria} - ${intencion.subcategoria}`);
    }
    
    if (resultado.respuesta.datosExtraidos.fecha) {
      console.log(`   Fecha extra√≠da: ${resultado.respuesta.datosExtraidos.fecha}`);
    }
    
    console.log(`   Tokens usados: ${resultado.metadata.tokensUsados}`);
    console.log(`   Tiempo: ${resultado.metadata.tiempoProcesamiento}ms`);
    
    return resultado;
  } else {
    console.log('‚ùå Error procesando mensaje IA:', data.data.processAIMessage.errors);
    return null;
  }
}
```

---

## üìù **Generaci√≥n de Contenido**

### **Generar Contenido para Eventos**
```javascript
async function generarContenidoEvento(tipoEvento, tema, detalles) {
  const response = await fetch('https://api2.eventosorganizador.com/graphql', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
      'Authorization': `Bearer ${miToken}`,
      'Origin': 'https://tu-dominio.com'
    },
    body: JSON.stringify({
      query: `
        mutation GenerateEventContent($input: GenerateEventContentInput!) {
          generateEventContent(input: $input) {
            success
            contenido {
              invitacion {
                titulo
                mensaje
                hashtags
              }
              descripcionEvento
              programaEvento {
                hora
                actividad
                descripcion
              }
              mensajesRedesSociales {
                plataforma
                mensaje
                hashtags
              }
              emailMarketing {
                asunto
                contenido
                callToAction
              }
            }
            metadata {
              modelo
              tokensUsados
              tiempoGeneracion
            }
            errors
          }
        }
      `,
      variables: {
        input: {
          tipoEvento: tipoEvento,
          tema: tema,
          detalles: detalles,
          configuracion: {
            modelo: "gpt-4",
            estilo: "profesional",
            idioma: "espa√±ol",
            tono: "elegante"
          }
        }
      }
    })
  });

  const data = await response.json();
  
  if (data.data.generateEventContent.success) {
    const contenido = data.data.generateEventContent.contenido;
    console.log('‚úÖ Contenido generado exitosamente:');
    
    console.log('   üìß Invitaci√≥n:');
    console.log(`     T√≠tulo: ${contenido.invitacion.titulo}`);
    console.log(`     Mensaje: ${contenido.invitacion.mensaje}`);
    
    console.log('   üìÖ Programa del evento:');
    contenido.programaEvento.forEach(actividad => {
      console.log(`     ${actividad.hora}: ${actividad.actividad}`);
    });
    
    console.log('   üì± Redes sociales:');
    contenido.mensajesRedesSociales.forEach(mensaje => {
      console.log(`     ${mensaje.plataforma}: ${mensaje.mensaje}`);
    });
    
    return contenido;
  } else {
    console.log('‚ùå Error generando contenido:', data.data.generateEventContent.errors);
    return null;
  }
}

// Ejemplo de uso
const contenido = await generarContenidoEvento("boda", "vintage", {
  novios: "Mar√≠a y Carlos",
  fecha: "25 de Diciembre 2025",
  ubicacion: "Hotel Maravilloso, Madrid",
  colores: "dorado y blanco",
  estilo: "elegante y rom√°ntico"
});
```

### **Generar Respuestas Personalizadas**
```javascript
async function generarRespuestaPersonalizada(consulta, contextoCliente) {
  const response = await fetch('https://api2.eventosorganizador.com/graphql', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
      'Authorization': `Bearer ${miToken}`,
      'Origin': 'https://tu-dominio.com'
    },
    body: JSON.stringify({
      query: `
        mutation GeneratePersonalizedResponse($input: GeneratePersonalizedResponseInput!) {
          generatePersonalizedResponse(input: $input) {
            success
            respuesta {
              mensaje
              recomendaciones
              productosSugeridos
              proximosPasos
            }
            metadata {
              modelo
              personalizacionLevel
              confianza
            }
            errors
          }
        }
      `,
      variables: {
        input: {
          consulta: consulta,
          contextoCliente: contextoCliente,
          configuracion: {
            modelo: "claude-3-sonnet-20240229",
            personalizacion: "alta",
            incluirRecomendaciones: true
          }
        }
      }
    })
  });

  const data = await response.json();
  
  if (data.data.generatePersonalizedResponse.success) {
    const respuesta = data.data.generatePersonalizedResponse.respuesta;
    console.log('‚úÖ Respuesta personalizada generada:');
    console.log(`   Mensaje: ${respuesta.mensaje}`);
    
    if (respuesta.recomendaciones.length > 0) {
      console.log('   Recomendaciones:');
      respuesta.recomendaciones.forEach(rec => {
        console.log(`     - ${rec}`);
      });
    }
    
    if (respuesta.productosSugeridos.length > 0) {
      console.log('   Productos sugeridos:');
      respuesta.productosSugeridos.forEach(prod => {
        console.log(`     - ${prod.nombre}: ${prod.descripcion}`);
      });
    }
    
    return respuesta;
  } else {
    console.log('‚ùå Error generando respuesta:', data.data.generatePersonalizedResponse.errors);
    return null;
  }
}

// Ejemplo de uso
const respuesta = await generarRespuestaPersonalizada(
  "Quiero una boda para 100 personas con presupuesto de ‚Ç¨15,000",
  {
    nombre: "Mar√≠a Garc√≠a",
    historialEventos: [],
    preferencias: ["vintage", "exterior"],
    ubicacion: "Madrid",
    fechaPreferida: "verano 2025"
  }
);
```

---

## üìä **An√°lisis Predictivo**

### **Analizar Comportamiento de Clientes**
```javascript
async function analizarComportamientoClientes() {
  const response = await fetch('https://api2.eventosorganizador.com/graphql', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
      'Authorization': `Bearer ${miToken}`,
      'Origin': 'https://tu-dominio.com'
    },
    body: JSON.stringify({
      query: `
        query AnalyzeCustomerBehavior {
          analyzeCustomerBehavior {
            success
            analisis {
              tendencias {
                tipoEventoPopular
                presupuestoPromedio
                estacionPreferida
                ubicacionPopular
              }
              predicciones {
                proximosEventos
                probabilidadConversion
                recomendacionesMarketing
              }
              insights {
                categoria
                descripcion
                impacto
                accionRecomendada
              }
              segmentacion {
                segmento
                caracteristicas
                tama√±o
                valorPromedio
              }
            }
            metadata {
              periodoAnalizado
              totalClientes
              confianzaPrediccion
            }
            errors
          }
        }
      `
    })
  });

  const data = await response.json();
  
  if (data.data.analyzeCustomerBehavior.success) {
    const analisis = data.data.analyzeCustomerBehavior.analisis;
    console.log('üìä An√°lisis de comportamiento de clientes:');
    
    console.log('   üìà Tendencias:');
    console.log(`     Tipo de evento popular: ${analisis.tendencias.tipoEventoPopular}`);
    console.log(`     Presupuesto promedio: ‚Ç¨${analisis.tendencias.presupuestoPromedio}`);
    console.log(`     Estaci√≥n preferida: ${analisis.tendencias.estacionPreferida}`);
    
    console.log('   üîÆ Predicciones:');
    console.log(`     Pr√≥ximos eventos esperados: ${analisis.predicciones.proximosEventos}`);
    console.log(`     Probabilidad de conversi√≥n: ${analisis.predicciones.probabilidadConversion}%`);
    
    console.log('   üí° Insights:');
    analisis.insights.forEach(insight => {
      console.log(`     ${insight.categoria}: ${insight.descripcion}`);
      console.log(`       Impacto: ${insight.impacto}`);
      console.log(`       Acci√≥n: ${insight.accionRecomendada}`);
    });
    
    return analisis;
  } else {
    console.log('‚ùå Error analizando comportamiento:', data.data.analyzeCustomerBehavior.errors);
    return null;
  }
}
```

### **Predecir √âxito de Campa√±as**
```javascript
async function predecirExitoCampa√±a(datosCampa√±a) {
  const response = await fetch('https://api2.eventosorganizador.com/graphql', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
      'Authorization': `Bearer ${miToken}`,
      'Origin': 'https://tu-dominio.com'
    },
    body: JSON.stringify({
      query: `
        mutation PredictCampaignSuccess($input: PredictCampaignSuccessInput!) {
          predictCampaignSuccess(input: $input) {
            success
            prediccion {
              probabilidadExito
              metricasEsperadas {
                tasaApertura
                tasaClicks
                tasaConversion
                mensajesEnviados
              }
              factoresInfluencia {
                factor
                impacto
                recomendacion
              }
              optimizaciones {
                tipo
                descripcion
                impactoEsperado
              }
              riesgo {
                nivel
                factores
                mitigacion
              }
            }
            metadata {
              modelo
              confianza
              datosHistoricos
            }
            errors
          }
        }
      `,
      variables: {
        input: {
          tipo: datosCampa√±a.tipo,
          segmento: datosCampa√±a.segmento,
          mensaje: datosCampa√±a.mensaje,
          canal: datosCampa√±a.canal,
          fechaEnvio: datosCampa√±a.fechaEnvio,
          configuracion: {
            modelo: "gpt-4",
            incluirOptimizaciones: true,
            analizarRiesgos: true
          }
        }
      }
    })
  });

  const data = await response.json();
  
  if (data.data.predictCampaignSuccess.success) {
    const prediccion = data.data.predictCampaignSuccess.prediccion;
    console.log('üîÆ Predicci√≥n de √©xito de campa√±a:');
    console.log(`   Probabilidad de √©xito: ${prediccion.probabilidadExito}%`);
    
    console.log('   üìä M√©tricas esperadas:');
    const metricas = prediccion.metricasEsperadas;
    console.log(`     Tasa de apertura: ${metricas.tasaApertura}%`);
    console.log(`     Tasa de clicks: ${metricas.tasaClicks}%`);
    console.log(`     Tasa de conversi√≥n: ${metricas.tasaConversion}%`);
    
    console.log('   üéØ Optimizaciones recomendadas:');
    prediccion.optimizaciones.forEach(opt => {
      console.log(`     ${opt.tipo}: ${opt.descripcion}`);
      console.log(`       Impacto esperado: ${opt.impactoEsperado}%`);
    });
    
    console.log('   ‚ö†Ô∏è Riesgos identificados:');
    console.log(`     Nivel de riesgo: ${prediccion.riesgo.nivel}`);
    console.log(`     Factores: ${prediccion.riesgo.factores.join(', ')}`);
    console.log(`     Mitigaci√≥n: ${prediccion.riesgo.mitigacion}`);
    
    return prediccion;
  } else {
    console.log('‚ùå Error prediciendo √©xito:', data.data.predictCampaignSuccess.errors);
    return null;
  }
}

// Ejemplo de uso
const prediccion = await predecirExitoCampa√±a({
  tipo: "promocional",
  segmento: "leads_calificados",
  mensaje: "¬°Ofertas especiales para tu boda perfecta!",
  canal: "whatsapp",
  fechaEnvio: "2025-10-20T10:00:00Z"
});
```

---

## üéØ **Ejemplo Completo: Asistente IA Completo**

```javascript
async function asistenteIACompleto() {
  console.log('ü§ñ Iniciando asistente IA completo...');
  
  try {
    // 1. Verificar conexiones IA
    console.log('1Ô∏è‚É£ Verificando conexiones IA...');
    const status = await verificarConexionesIA();
    if (!status) throw new Error('No se pudieron verificar las conexiones IA');
    
    // 2. Crear chatbot IA
    console.log('2Ô∏è‚É£ Creando chatbot IA...');
    const chatbotId = await crearChatbotIA();
    if (!chatbotId) throw new Error('No se pudo crear el chatbot IA');
    
    // 3. Generar contenido para evento
    console.log('3Ô∏è‚É£ Generando contenido para evento...');
    const contenido = await generarContenidoEvento("boda", "vintage", {
      novios: "Mar√≠a y Carlos",
      fecha: "25 de Diciembre 2025",
      ubicacion: "Hotel Maravilloso, Madrid",
      colores: "dorado y blanco"
    });
    
    // 4. Analizar comportamiento de clientes
    console.log('4Ô∏è‚É£ Analizando comportamiento de clientes...');
    const analisis = await analizarComportamientoClientes();
    
    // 5. Predecir √©xito de campa√±a
    console.log('5Ô∏è‚É£ Prediciendo √©xito de campa√±a...');
    const prediccion = await predecirExitoCampa√±a({
      tipo: "promocional",
      segmento: "leads_calificados",
      mensaje: "¬°Ofertas especiales para tu boda perfecta!",
      canal: "whatsapp",
      fechaEnvio: "2025-10-20T10:00:00Z"
    });
    
    // 6. Simular conversaciones con IA
    console.log('6Ô∏è‚É£ Simulando conversaciones con IA...');
    const consultas = [
      "Hola, quiero informaci√≥n sobre bodas",
      "Tengo un presupuesto de ‚Ç¨15,000 para 100 invitados",
      "¬øQu√© servicios incluyen?",
      "¬øPueden ayudarme con la decoraci√≥n?"
    ];
    
    for (const consulta of consultas) {
      console.log(`   Procesando: "${consulta}"`);
      const respuesta = await procesarMensajeIA("+34600123456", consulta, chatbotId);
      if (respuesta) {
        console.log(`   Respuesta IA: ${respuesta.respuesta.mensaje.substring(0, 100)}...`);
      }
      await new Promise(resolve => setTimeout(resolve, 1000));
    }
    
    console.log('üéâ ¬°Asistente IA completo funcionando!');
    console.log(`   Chatbot IA ID: ${chatbotId}`);
    console.log(`   Contenido generado: ${contenido ? '‚úÖ' : '‚ùå'}`);
    console.log(`   An√°lisis completado: ${analisis ? '‚úÖ' : '‚ùå'}`);
    console.log(`   Predicci√≥n generada: ${prediccion ? '‚úÖ' : '‚ùå'}`);
    
    return {
      chatbot: chatbotId,
      contenido: contenido,
      analisis: analisis,
      prediccion: prediccion
    };
    
  } catch (error) {
    console.error('‚ùå Error en asistente IA:', error.message);
    return null;
  }
}

// Ejecutar asistente completo
const resultado = await asistenteIACompleto();
```

---

## üéØ **Pr√≥ximos Pasos**

### **¬øYa dominas la integraci√≥n con IA?**
üëâ **[Ir a API Avanzada](./advanced-api.md)**

### **¬øQuieres personalizaci√≥n extrema?**
üëâ **[Ir a Personalizaci√≥n](./customization.md)**

### **¬øNecesitas ejemplos avanzados?**
üëâ **[Ver C√≥digo de Ejemplo](./code-examples.md)**

---

## üí° **Consejos para IA**

1. **Optimiza prompts:** Mensajes claros dan mejores resultados
2. **Controla costos:** Monitorea el uso de tokens
3. **Combina modelos:** Usa diferentes IAs para diferentes tareas
4. **Valida respuestas:** Siempre revisa la calidad del contenido generado
5. **Aprende continuamente:** Mejora los prompts bas√°ndote en los resultados

---

**¬øNecesitas ayuda con IA?** üìß soporte@eventosorganizador.com
